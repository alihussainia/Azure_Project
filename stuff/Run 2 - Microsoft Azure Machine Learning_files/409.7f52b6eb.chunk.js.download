(this["webpackJsonp@mlworkspace/portal"]=this["webpackJsonp@mlworkspace/portal"]||[]).push([[409],{Blvq:function(e,a,t){"use strict";t.d(a,"a",(function(){return ce}));var r=t("fGyu"),n=t("zygG"),i=t("5QGA"),c=t("LfXG"),o=t("fHz4"),s=t("wtRa"),l=t("Cvjz"),m=t("YX+E"),u=t("RdNj"),d=t("SNGI"),b=t("2Rx3"),p=t("cB7U"),g=t("erI3"),h=t("9AX3"),f=t("wkpC"),v=t("Fr1Y"),k=t("NP2i"),C=t("DgJP"),T=t("Oijj"),E=t("gsp1"),y=t("/9TQ"),M=t("zImn"),j=t("JrM5"),O=t("ms5s"),w=t("Xtw3"),N=t("5dWF"),S=t("yJvr"),P=t("5jCC"),L=t("LWCo"),x=t("ERkP"),I=t.n(x),z=t("j5C/"),R=t("9AD/"),A=t("kjXB"),D=t("d0cs"),W=function(e){var a=e.selectionPaneContent,t=e.displayPaneContent,r=e.pickerLabel,n=e.pickerLabelId,i=function(e){return Object(D.cb)({relativeWrapper:{position:"relative",width:"100%",height:"100%"},absoluteWrapper:{position:"absolute",width:"100%",height:"100%",overflow:"hidden"},root:{paddingTop:"16px",overflow:"hidden"},rightPane:{paddingLeft:"24px",overflow:"hidden"},leftPane:{padding:"10px",borderWidth:"1px",borderStyle:"solid",borderColor:e.themeStyles.palette.neutralLight,width:"275px"},yScrollable:{overflowY:"auto"},pickerLabelContainer:{marginBottom:"16px"}})}(x.useContext(A.a));return x.createElement("div",{className:i.relativeWrapper},x.createElement("div",{className:i.absoluteWrapper},x.createElement(L.a,{horizontal:!0,verticalFill:!0,className:i.root},x.createElement(L.a.Item,{grow:!1,shrink:!1,className:i.leftPane},x.createElement(L.a,{verticalFill:!0},r&&x.createElement("div",{className:i.pickerLabelContainer,id:n},r),x.createElement(L.a.Item,{shrink:!0,className:i.yScrollable},a))),x.createElement(L.a.Item,{grow:!0,className:i.rightPane},t))))},_=t("zjfJ"),H=t("Czhu"),F=t("EDzT"),V=t("jNxo"),B=t("LQuC"),G=t("btdd"),J=t("z15j"),X=t("W0kW"),Q=t("VH9c"),K=t("rb3x"),U=t("1pFK"),Y=t("+U0a"),q=t("uMNk"),Z=t("fN3Q"),$=function(e){var a=I.a.useMemo((function(){var a=e.moreDataAvailable?z.a.Tabs.TrackedMetrics.MetricTableHeaderPartial:z.a.Tabs.TrackedMetrics.MetricTableHeaderComplete;return e.isLoading?"":a.replace("{start}",e.start.toLocaleString()).replace("{end}",e.end.toLocaleString()).replace("{total}",e.total.toLocaleString())}),[z.a,e.start,e.end,e.total,e.isLoading]),t=Object(D.cb)({content:{flexGrow:"1",marginLeft:"10",marginRight:"10",whiteSpace:"nowrap",textAlign:"left"}});return I.a.createElement("div",{className:t.content},a)},ee=Object(Z.v4)(),ae=function(e){var a=e.metricName,t=e.loadingMessage,r=Object(p.a)(f.a.Experimentation.MetricTable.Loaded,{blocksParentScenario:!1}),i=Object(n.a)(r,1)[0],c=I.a.useContext(g.a),o=c.run,s=c.runId,l=!!o&&!!a,m=I.a.useMemo((function(){return[s]}),[s]),u=Object(B.a)(m,a,!l),d=Object(n.a)(u,1)[0];Object(G.a)(d);var b=I.a.useMemo((function(){if(d.state===V.a.Success){var e=d.value.get(s);if(e)return[te(e,z.a.Tabs.TrackedMetrics.StepColumnHeader),e.continuationToken]}return[{columns:[],items:[]},void 0]}),[d,z.a]),h=Object(n.a)(b,2),v=h[0],k=h[1],C=Object(J.a)(v.items),T=C.sortedData,E=C.sortInfo,y=C.sortData,M=d.state,j=M===V.a.Loading,O=I.a.useMemo((function(){return j?[{field:t}]:v.columns.map((function(e){return E&&E.sortOrder!==X.a.Unsorted&&E.column===e.field?Object(H.a)(Object(H.a)({},e),{},{isSorted:!0,isSortedDescending:E.sortOrder===X.a.Descending}):e}))}),[v.columns,j,E,t]);Object(Q.a)(i,[M]);var w=Object(K.a)(T,10),N=w.nextPage,S=w.previousPage,P=w.currentData,L=w.isFirstPage,x=w.isLastPage,R=w.start,A=w.end,D=I.a.useCallback((function(e,a){var t=a.field.toString();y(t)}),[y]);return I.a.createElement(U.a,{title:a,titleSize:U.b.Large},I.a.createElement($,{isLoading:j,total:v.items.length,start:R,end:A,moreDataAvailable:!!k}),I.a.createElement(F.a,{columns:O,items:P,hideSearchBox:!0,compact:!0,noSorting:!!k,layoutMode:Y.e.fixedColumns,onColumnHeaderClick:D,enableShimmer:j,shimmerLines:5,selectionMode:q.c.none,isLoading:j,shouldVirtualize:!1,automationId:"MetricTable",paginationProps:{isFirstPage:L,isLastPage:x,nextPage:N,previousPage:S}}))};function te(e,a){var t=e.value?e.value.map((function(e,a){return Object(H.a)(Object(H.a)({},e.data),{},Object(_.a)({},ee,a+1))})).filter((function(e){return!!e})):[],n=Object.keys(e.columns||{});return{columns:[{field:ee,header:a,minWidth:75,maxWidth:150}].concat(Object(r.a)(n.map((function(e){return{field:e,minWidth:150,maxWidth:150}})))),items:t}}var re=[h.a.azuremlv1scalar,h.a.azuremlv1list,h.a.azuremlv1table,h.a.azuremlv2predictions,h.a.azuremlv2residuals,h.a.azuremlv2confusion_matrix,h.a.azuremlv2accuracy_table],ne=function(){Object(p.a)(f.a.Experimentation.RunDetailsPage.Pivot.Loaded,{dependencies:[f.a.Experimentation.RunMetricsPicker.Loaded]});var e=I.a.useContext(g.a),a=e.experimentId,t=e.run,x=e.runId,R=I.a.useState([]),A=Object(n.a)(R,2),_=A[0],H=A[1],F=I.a.useState("chart"),V=Object(n.a)(F,2),B=V[0],G=V[1],J=I.a.useMemo((function(){return t?String(t.runType):void 0}),[t]),X=I.a.useState([]),Q=Object(n.a)(X,2),K=Q[0],U=Q[1],Y=I.a.useState(!1),q=Object(n.a)(Y,2),Z=q[0],$=q[1],ee=I.a.useState([]),te=Object(n.a)(ee,2),ne=te[0],ce=te[1],oe=Object(v.a)(a,J,K,ce,Z),se=Object(n.a)(oe,1)[0],le=I.a.useState(!1),me=Object(n.a)(le,2),ue=me[0],de=me[1],be=I.a.useCallback((function(){de(!0)}),[de]);I.a.useEffect((function(){U(ne)}),[ne]);var pe=I.a.useCallback((function(e,a,t){var n=a.map((function(e){return e.name||""}));H((function(a){return[].concat(Object(r.a)(a.filter((function(e){return!n.includes(e.name||"")}))),Object(r.a)(e))})),t||U((function(a){var t=a.length?a:_.map((function(e){return e.name||""}));return[].concat(Object(r.a)(t.filter((function(e){return!n.includes(e)}))),Object(r.a)(e.map((function(e){return e.name||""}))))})),$(!t)}),[H,$,U,_]),ge=function(){var e=600/1.8;return Object(D.cb)({root:{width:"100%"},modeToggleContainer:{marginBottom:"10px"},metricDataViewParent:{width:"100%",overflow:"auto"},metricsDataViewContainer:{overflow:"hidden"},chartContainer:{margin:"50px 0",minWidth:350,minHeight:216.44444444444443,width:600,height:455.3333333333333},chart:{height:e},chartFullScreen:{height:"calc(100% - 10px)",selectors:{".js-plotly-plot":{width:"90%",height:"90%"}}},tableContainer:{margin:"16px 0",width:"100%"}})}(),he={options:[{key:"chart",text:z.a.Tabs.TrackedMetrics.ChartViewMode},{key:"table",text:z.a.Tabs.TrackedMetrics.TableViewMode}],horizontal:!0,label:z.a.Tabs.TrackedMetrics.ViewModeToggleLabel,labelOnLeft:!0,selectedKey:B,testID:"metricsViewMode",telemetryKey:k.a.MetricViewMode,optionKeysAreSafeToLog:!0,onOptionSelection:G},fe=z.a.Tabs.TrackedMetrics.MetricsPickerLabel,ve="trackedMetricsPickerLabel",ke=!se&&I.a.createElement(C.a,{ariaLabelledBy:ve,experimentId:a,runId:x,onChange:pe,metricTypeFilter:re,initialSelection:ne,onNoMetricsAvailable:be,defaultSelectionCount:5}),Ce=function(e,a){switch(a){case"chart":return function(e){if(!e.name)return[];switch(e.type){case h.a.azuremlv2residuals:return[I.a.createElement(T.a,{key:e.name,metricName:e.name,chartComponent:i.a,classNames:ge})];case h.a.azuremlv2predictions:return[I.a.createElement(T.a,{key:e.name,metricName:e.name,chartComponent:c.a,classNames:ge})];case h.a.azuremlv2confusion_matrix:return[I.a.createElement(T.a,{key:e.name,metricName:e.name,chartComponent:o.a,classNames:ge})];case h.a.azuremlv2accuracy_table:return[I.a.createElement(T.a,{key:"".concat(e.name,"_PRChart"),metricName:e.name,chartComponent:s.a,classNames:ge,renderError:E.a}),I.a.createElement(T.a,{key:"".concat(e.name,"_ROCChart"),metricName:e.name,chartComponent:l.a,classNames:ge,renderError:E.a}),I.a.createElement(T.a,{key:"".concat(e.name,"_CalibrationChart"),metricName:e.name,chartComponent:m.a,classNames:ge,renderError:E.a}),I.a.createElement(T.a,{key:"".concat(e.name,"_LiftChart"),metricName:e.name,chartComponent:u.a,classNames:ge,renderError:E.a}),I.a.createElement(T.a,{key:"".concat(e.name,"_GainsChart"),metricName:e.name,chartComponent:d.a,classNames:ge,renderError:E.a})]}return ie(e)?[I.a.createElement(y.a,{key:e.name,metricName:e.name})]:[I.a.createElement(M.a,{key:e.name,chartId:e.name,chartType:j.a.MultiLine,metricName:e.name,title:e.name,automationId:"SingleRunChart"})]}(e);case"table":return function(e){if(!e.name)return[];switch(e.type){case h.a.azuremlv2confusion_matrix:return[I.a.createElement(O.a,{key:e.name,metricName:e.name,loadingMessage:z.a.Tabs.TrackedMetrics.MetricTableLoadingMessage})];case h.a.azuremlv2residuals:return[I.a.createElement(w.a,{key:e.name,metricName:e.name,loadingMessage:z.a.Tabs.TrackedMetrics.MetricTableLoadingMessage})];case h.a.azuremlv2predictions:return[I.a.createElement(N.a,{key:e.name,metricName:e.name,loadingMessage:z.a.Tabs.TrackedMetrics.MetricTableLoadingMessage})];case h.a.azuremlv2accuracy_table:return[I.a.createElement(S.a,{isPercentile:!0,key:"".concat(e.name,"_PercentileTable"),metricName:e.name,loadingMessage:z.a.Tabs.TrackedMetrics.MetricTableLoadingMessage}),I.a.createElement(S.a,{isPercentile:!1,key:"".concat(e.name,"_ProbabilityTable"),metricName:e.name,loadingMessage:z.a.Tabs.TrackedMetrics.MetricTableLoadingMessage})]}return[I.a.createElement(ae,{key:e.name,metricName:e.name,loadingMessage:z.a.Tabs.TrackedMetrics.MetricTableLoadingMessage})]}(e)}return[]},Te=[],Ee=[];"chart"===B?_.forEach((function(e){ie(e)?Te.push(e):Ee.push(e)})):Ee=_;var ye="chart"===B?ge.chartContainer:ge.tableContainer,Me=I.a.createElement(L.a,{verticalFill:!0,className:ge.root},I.a.createElement(L.a.Item,{className:ge.modeToggleContainer},I.a.createElement(b.a,he)),I.a.createElement(L.a.Item,{className:ge.metricDataViewParent},I.a.createElement(L.a,{className:ge.metricsDataViewContainer,"data-automation-id":"metricsViewer"},I.a.createElement(L.a.Item,null,Te.length>0&&I.a.createElement(L.a,{horizontal:!0,wrap:!0},Te.map((function(e){return Ce(e,B).map((function(a,t){return I.a.createElement(L.a.Item,{key:"".concat(e.name,"_").concat(t)},a)}))})))),I.a.createElement(L.a.Item,null,I.a.createElement(L.a,{horizontal:!0,horizontalAlign:"space-around",wrap:!0,className:ge.metricsDataViewContainer},Ee.map((function(e){return e.name&&Ce(e,B).map((function(a,t){return I.a.createElement(L.a.Item,{className:ye,key:"".concat(e.name,"_").concat(t)},a)}))})))))));return ue?I.a.createElement(P.a,{messageType:"runMetrics"}):I.a.createElement(W,{pickerLabel:fe,pickerLabelId:ve,selectionPaneContent:ke,displayPaneContent:Me})};function ie(e){var a;if(e.summaries&&e.summaries.Shape)switch(e.type){case h.a.azuremlv1scalar:case h.a.azuremlv1list:return 1===e.summaries.Shape.count&&1===(null===(a=e.summaries.Shape.dimensions)||void 0===a?void 0:a.length)&&1===e.summaries.Shape.dimensions[0].length}return!1}var ce={get headerText(){return z.a.Tabs_TrackedMetrics_Header},key:R.a.Metrics,content:I.a.createElement(ne,null)}},Iu9R:function(e,a,t){"use strict";t.r(a),t.d(a,"HyperdriveRunPage",(function(){return f}));var r=t("VtSi"),n=t.n(r),i=t("QsI/"),c=t("PXFs"),o=t("ERkP"),s=t("j5C/"),l=t("ZaIX"),m=t("4JYu"),u=t("Blvq"),d=t("iOAT"),b=t("+CSk"),p=t("9AD/"),g=o.lazy(Object(i.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(0),t.e(1),t.e(21),t.e(24),t.e(22),t.e(30),t.e(35),t.e(26),t.e(37),t.e(148)]).then(t.bind(null,"i+nk")).then((function(e){return{default:function(){return e.HyperdriveChildRuns.content}}})));case 1:case"end":return e.stop()}}),e)})))),h=o.lazy(Object(i.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(0),t.e(1),t.e(21),t.e(24),t.e(22),t.e(30),t.e(35),t.e(26),t.e(37),t.e(148)]).then(t.bind(null,"i+nk")).then((function(e){return{default:function(){return e.HyperdriveDetails.content}}})));case 1:case"end":return e.stop()}}),e)})))),f=function(){return c.a.log("HyperdriveRunPage rendered"),o.createElement(m.a,{pivotItems:[Object(l.a)(p.a.HyperdriveDetails,s.a.Tabs.Details.Header,h),Object(l.a)(p.a.HyperdriveChildRuns,s.a.Tabs_ChildRuns_Header,g),u.a,d.a,b.a]})}},iOAT:function(e,a,t){"use strict";t.d(a,"a",(function(){return C}));var r=t("zygG"),n=t("cB7U"),i=t("Ippe"),c=t("wkpC"),o=t("+HTG"),s=t("ERkP"),l=t.n(s),m=t("j5C/"),u=t("9AD/"),d=t("erI3"),b=t("vN5o"),p=t("QqnD"),g=t("it/A"),h=t("RogS"),f=t("G/JO");var v=function(){Object(n.a)(c.a.Experimentation.RunDetailsPage.Pivot.Loaded,{dependencies:[c.a.Experimentation.RunArtifactsTab.Loaded]});var e="OuputsAndLogs",a=l.a.useCallback((function(e){return e.fileName.indexOf("driver_log")>=0}),[]),t=l.a.useState(!1),i=Object(r.a)(t,2),m=i[0],u=i[1],v=function(e,a){var t=s.useContext(d.a),n="".concat(e,"-").concat(t.experimentId,"-").concat(t.runId,"-AutoRefresh-Toggle-Value"),i="".concat(e,"-WordWrap-Toggle-Value"),c=s.useState((function(){return null===sessionStorage.getItem(n)||"true"===sessionStorage.getItem(n)})),o=Object(r.a)(c,2),l=o[0],m=o[1],u=s.useState((function(){return null!==sessionStorage.getItem(i)&&"true"===sessionStorage.getItem(i)})),v=Object(r.a)(u,2),k=v[0],C=v[1],T=s.useCallback((function(){var e=!l;sessionStorage.setItem(n,String(e)),m(e)}),[l,m,n]),E=s.useCallback((function(){var e=!k;sessionStorage.setItem(i,String(e)),C(e)}),[k,C,i]),y=Object(p.b)({shouldAutoRefresh:l,toggleAutoRefresh:T}),M=Object(g.b)({wordWrap:k,toggleWordWrap:E}),j=[Object(h.b)({disabled:a}),f.b,y,M];return Object(b.a)(j,[j]),[l,k]}(e,m),C=Object(r.a)(v,2),T=C[0],E=C[1];return l.a.createElement(o.a,{cacheRoutePrefix:e,isDefaultFile:a,shouldAutoRefresh:T,scrollToBottom:k,wordWrap:E,setFilesAvailable:u})},k=function(e){return(e.blobFullPath.startsWith("logs/")||e.blobFullPath.startsWith("azureml-logs/")||e.blobFullPath.includes("driver_log"))&&(e.fileName.endsWith(".txt")||e.fileName.endsWith(".log"))},C={get headerText(){return m.a.Tabs.OutputsAndLogs.Header},key:u.a.OutputsAndLogs,content:l.a.createElement(v,null),enabledIfAnyDataActions:[i.a.WorkspacesMetadataArtifactsRead]}}}]);
//# sourceMappingURL=409.7f52b6eb.chunk.js.map