(this["webpackJsonp@mlworkspace/portal"]=this["webpackJsonp@mlworkspace/portal"]||[]).push([[41],{"4ste":function(e,t,o){"use strict";o.d(t,"a",(function(){return s})),o.d(t,"b",(function(){return c}));var n=o("9fIP"),r=o("WYY7"),a=o("fN3Q"),i=o.n(a),l=o("DHa3"),s=function e(){var t=this;Object(n.a)(this,e),this.terminalPrefix="terminal-",this.terminalMapper=new Map,this.getTerminalMenuItem=function(){return{key:"TerminalAction",text:l.b.Common_Terminal_Action,ariaLabel:l.b.Common_Terminal_Action,iconProps:{iconName:r.a.CommandPrompt}}},this.generateTerminalId=function(){return"".concat(t.terminalPrefix).concat(i.a.v4())},this.setTerminalItemToMapper=function(e,o,n,r){t.terminalMapper.set(e,{workingDir:o,deepLink:n,commandToRun:r})},this.removeTerminalItemFromMapper=function(e){t.terminalMapper.delete(e)},this.getTerminalCommandToRun=function(e){var o=t.terminalMapper.get(e);if(o)return o.commandToRun},this.clearTerminalCommandFromItemInMapper=function(e){var o=t.terminalMapper.get(e);o&&t.terminalMapper.set(e,{workingDir:o.workingDir,deepLink:o.deepLink,commandToRun:void 0})},this.getTerminalWorkingDirectory=function(e){var o=t.terminalMapper.get(e);return o?o.workingDir:""},this.getTerminalDeepLink=function(e){var o=t.terminalMapper.get(e);if(o)return o.deepLink},this.removeTerminalDeepLink=function(e){var o=t.terminalMapper.get(e);o&&t.setTerminalItemToMapper(e,o.workingDir,void 0)},this.isTerminalFileTabId=function(e){return 0===e.indexOf(t.terminalPrefix)}},c=new s},"5Bkh":function(e,t,o){"use strict";o.d(t,"a",(function(){return h}));var n=o("9fIP"),r=o("MMYH"),a=o("8K1b"),i=o("AqVP"),l=o("XX2E"),s=o("sahG"),c=o("NVGi"),p=o("ERkP"),u=o("KLDe"),d=o.n(u),m=o("DHa3"),h=function(e){Object(a.a)(o,e);var t=Object(i.a)(o);function o(){return Object(n.a)(this,o),t.apply(this,arguments)}return Object(r.a)(o,[{key:"render",value:function(){return p.createElement(l.a,null,p.createElement(s.a,{src:d.a,width:300,height:300,imageFit:c.b.contain,alt:"file explorer pane image"}),p.createElement("p",{className:"ms-font-xxl",id:"file-explorer-heading"},m.b.Common_FileExplorer_Pane))}}]),o}(p.Component)},"8+d9":function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));var n=o("9fIP"),r=o("MMYH"),a=o("8K1b"),i=o("AqVP"),l=o("ERkP"),s=o("HDz5"),c=(o("+ZM4"),function(e){Object(a.a)(o,e);var t=Object(i.a)(o);function o(e){return Object(n.a)(this,o),t.call(this,e)}return Object(r.a)(o,[{key:"render",value:function(){return l.createElement(s.a,Object.assign({minSize:0,maxSize:0},this.props,{className:"split-pane"}),this.props.children)}}]),o}(l.Component))},HACW:function(e,t,o){"use strict";o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return a})),o.d(t,"a",(function(){return i}));var n=o("ERkP");function r(e,t,o){return{content:a(e,t,o),title:i(e,t,o)}}function a(e,t,o){return o?e:n.createElement("span",null,t," ",n.createElement("strong",null,"'",e,"'"))}function i(e,t,o){return o?void 0:"".concat(t," '").concat(e,"'")}},HMQ2:function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));var n=o("ERkP"),r={getAllNotebookInstances:function(){return new Map},getNotebookInstance:function(){},getNotebookInstanceByNotebook:function(){return[void 0,void 0]},cacheNotebookInstance:function(){},removeNotebookInstance:function(){},getNotebookInstancesCount:function(){return 0},getFile:function(){},getFileContent:function(){},getBlob:function(){},getLastModifiedDate:function(){},getETag:function(){},getReadOnly:function(){},cacheFile:function(){},updateFileContent:function(){},updateFileProps:function(){},removeFile:function(){},cacheContentInEditor:function(){},getContentInEditor:function(){},removeContentInEditor:function(){},updateIsDirty:function(){},getIsDirty:function(){},getIsDirtyMap:function(){return new Map},removeIsDirty:function(){},updatePreviewMarkdown:function(){},getPreviewMarkdown:function(){},getPreviewMarkdownMap:function(){return new Map},removePreviewMarkdown:function(){},updateCursorPosition:function(){},getCursorPosition:function(){},getCursorPositionMap:function(){return new Map},removeCursorPosition:function(){},updateIsReadOnly:function(){},getIsReadOnly:function(){},getIsReadOnlyMap:function(){return new Map},removeIsReadOnly:function(){},updateRenderLargeFile:function(){},getRenderLargeFile:function(){return!1},getIsSwitchExtension:function(){return!1},setIsSwitchExtension:function(){},clearAll:function(){}},a=n.createContext(r);a.displayName="NotebookContext"},KLDe:function(e,t,o){e.exports=o.p+"static/media/FileExplorer.104fa2d4.svg"},KjDR:function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));var n=o("9fIP"),r=o("MMYH"),a=o("LH/S"),i=function(){function e(){Object(n.a)(this,e)}return Object(r.a)(e,null,[{key:"getMonacoTheme",value:function(e){switch(e){case a.a.Light:return"vs";case a.a.Dark:return"vs-dark";case a.a.HighContrast:return"hc-black";default:return"vs"}}}]),e}()},L4CN:function(e,t,o){"use strict";o.d(t,"a",(function(){return m}));var n=o("9fIP"),r=o("MMYH"),a=o("8K1b"),i=o("AqVP"),l=o("ERkP"),s=o("sahG"),c=o("ctLR"),p=o("DHa3"),u=o("h+sQ"),d=o.n(u),m=function(e){Object(a.a)(o,e);var t=Object(i.a)(o);function o(){return Object(n.a)(this,o),t.apply(this,arguments)}return Object(r.a)(o,[{key:"render",value:function(){var e=this.props.altText||p.b.Common_FilePreviewNotAvailable,t=this.props.width||250,o=this.props.height||250,n=this.props.textUnderImage||p.b.Common_FilePreviewNotAvailable;return l.createElement(l.Fragment,null,l.createElement(s.a,{src:d.a,alt:e,width:t,height:o}),l.createElement(c.a,{variant:"xLarge"},n))}}]),o}(l.Component)},N2Yl:function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return q}));var n,r=o("zygG"),a=o("9fIP"),i=o("MMYH"),l=o("8K1b"),s=o("AqVP"),c=o("VtSi"),p=o.n(c),u=o("QsI/"),d=o("IX2Y"),m=o("FABw"),h=o("kgxj"),f=o("yiDG"),b=o("tSJw"),C=o("C4le"),v=o("8Zff"),g=o("1eWE"),k=o("oFVQ"),E=o("fGUH"),x=o("Ya8k"),F=o("/YEa"),y=o("7vdV"),T=o("oziZ"),w=o("D0BB"),S=o("KodL"),_=o("LWCo"),P=o("ERkP"),O=o("pXV+"),j=o("L4CN"),M=o("KjDR"),I=o("P11g"),N=o("DHa3"),R=o("7nmT"),A=o.n(R),B=(o("71lc"),o("fmrB")),D=o("d0cs"),L=o("QyBD"),H=o("n5u1"),U=o.n(H),W=o("gNrm"),V=o.n(W),Y=(o("PzC4"),o("xuya"),function(){var e=document,t={};function o(t,o){var n=e.createElement("div");return n.setAttribute("class",o?"prompt input_prompt":"prompt output_prompt"),n.innerHTML=(o?"In":"Out")+"&nbsp;["+(t.execution_count||t.prompt_number?t.execution_count||t.prompt_number:" ")+"]:",n}function n(n){if(!n.execution_count&&0===n.source.length&&0===n.outputs.length)return console.log("ignore the empty code cell"),e.createElement("div");var l=e.createElement("div");l.setAttribute("class","cell border-box-sizing code_cell rendered");var c=e.createElement("div");c.setAttribute("class","input"),l.appendChild(c),c.appendChild(o(n,!0));var p=e.createElement("div");p.setAttribute("class","inner_cell"),c.appendChild(p);var u=e.createElement("div");u.setAttribute("class","input_area"),p.appendChild(u);var d=e.createElement("div");d.setAttribute("class","highlight hl_"+t.pygments_lexer),u.appendChild(d);var m=e.createElement("pre"),h=e.createElement("code");h.setAttribute("class","language-"+(n.language?n.language:t.lang));var f=n.source||n.input;h.textContent="string"===typeof f?f:f.join(""),m.appendChild(h),d.appendChild(m),U.a.highlightElement(h);var b=e.createElement("div");b.setAttribute("class","output_wrapper"),l.appendChild(b);var C=e.createElement("div");C.setAttribute("class","output"),b.appendChild(C);for(var v=0;v<n.outputs.length;v++){var g=e.createElement("div");g.setAttribute("class","output_area"),C.appendChild(g);var k=n.outputs[v];if("execute_result"===k.output_type)g.appendChild(o(k,!1));else{var E=e.createElement("div");E.setAttribute("class","prompt"),g.appendChild(E)}switch(k.output_type){case"execute_result":g.appendChild(r(k,!0));break;case"stream":g.appendChild(i(k));break;case"pyerr":case"error":g.appendChild(a(k));break;case"display_data":if(t.nbformat>3){g.appendChild(r(k,!1));break}case"pyout":g.appendChild(s(k));break;default:console.error("Not supported output_type: "+n.outputs[v].output_type)}}return l}function r(t,o){var n=e.createElement("div");n.setAttribute("class","output_text output_subarea"+(o?" output_execute_result":""));for(var r=Object.keys(t.data),a=0;a<r.length;a++){var i=r[a],l=e.createElement("div");switch(i){case"text/plain":if(r.includes("text/html"))continue;(l=e.createElement("pre")).style.margin=0,l.textContent="string"===typeof t.data[i]?t.data[i]:t.data[i].join("");break;case"text/html":l.innerHTML=t.data[i].join("");for(var s=l.getElementsByClassName("dataframe"),c=0;c<s.length;c++){s[c].setAttribute("style",["border-collapse: collapse","text-align: left"].join(";"));for(var p=s[c].querySelectorAll("td, th"),u=0;u<p.length;u++)p[u].style.padding="3px"}break;case"image/svg+xml":l.innerHTML=t.data[i].join("");break;default:if(i.startsWith("image/")){if((l=e.createElement("img")).setAttribute("src","data:"+i+";base64,"+("string"===typeof t.data[i]?t.data[i]:t.data[i].join(""))),i in t.metadata){var d=t.metadata[i];"width"in d&&l.setAttribute("width",d.width),"height"in d&&l.setAttribute("height",d.height)}break}console.error("unexpected format: "+i)}n.appendChild(l)}return n}function a(t){var o=e.createElement("div");o.setAttribute("class","output_subarea output_text output_error");var n=e.createElement("pre"),r=t.traceback.join("\n");return n.textContent=r,o.appendChild(n),o}function i(t){var o=t.name||t.stream;t.hasOwnProperty("text")||console.error("data for stream missing");var n=e.createElement("div");n.setAttribute("class","output_subarea output_stream output_text "+("stderr"===o?"output_stderr":"output_stdout"));var r=e.createElement("pre");return r.textContent=t.text.join(""),n.appendChild(r),n}function l(t){var o=e.createElement("div");o.setAttribute("class","cell border-box-sizing text_cell rendered");var n=e.createElement("div");n.setAttribute("class","prompt input_prompt"),o.appendChild(n);var r=e.createElement("div");r.setAttribute("class","inner_cell"),o.appendChild(r);var a=e.createElement("div");return a.setAttribute("class","text_cell_render border-box-sizing rendered_html"),a.innerHTML=V()(t.source.join("")),r.appendChild(a),o}function s(t){var n=e.createElement("div");return t.hasOwnProperty("prompt_number")&&n.appendChild(o(t,!1)),Object.keys(t).forEach((function(o){if(!(["output_type","prompt_number"].indexOf(o)>-1)){var r=e.createElement("span");switch(o){case"text":(r=e.createElement("pre")).style.margin=0,r.textContent=t[o].join("");break;case"html":(r=e.createElement("div")).innerHTML=t[o].join("");break;case"png":case"jpeg":(r=e.createElement("img")).setAttribute("src","data:"+o+";base64,"+t[o]);break;default:console.error("unsupported pyout format: "+o)}n.appendChild(r)}})),n}return{render:function(o,r,a){if(window.Prism)if((t=a||{}).nbformat=o.nbformat,t.nbformat<3)console.error("Format of the notebook too old");else{if(t.nbformat>3){t.lang=o.metadata.kernelspec.language;var i=o.metadata.language_info;t.pygments_lexer=i.pygments_lexer||i.name}for(;r.firstChild;)r.removeChild(r.firstChild);var s=e.createElement("div");s.setAttribute("id","notebook-container"),r.appendChild(s),t.target=s;for(var c=o.cells||function(){for(var e=[],t=0;t<o.worksheets.length;t++)e=e.concat(o.worksheets[t].cells);return e}(),p=0;p<c.length;p++){var u=c[p],d=e.createElement("div");switch(u.cell_type){case"code":d=n(u);break;case"markdown":d=l(u);break;default:console.error("Unsupported cell type: "+u.cell_type)}s.appendChild(d)}}else console.error("expecting library and Prism.js to be present")}}}()),z=o("xUnk");!function(e){e.JupyterReadonly="JupyterReadonly",e.MonacoEditor="MonacoEditor",e.ImageViewer="ImageViewer",e.HtmlViewer="HtmlViewer",e.MarkdownViewer="MarkdownViewer"}(n||(n={}));var K=P.lazy(Object(u.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([o.e(0),o.e(2),o.e(125),o.e(143),o.e(1095)]).then(o.bind(null,"dfO+")).then((function(e){return{default:e.MarkdownPreview}})));case 1:case"end":return e.stop()}}),e)})))),G=function(e){Object(l.a)(c,e);var t=Object(s.a)(c);function c(e){var o;return Object(a.a)(this,c),(o=t.call(this,e)).monacoEditor=void 0,o.editorEleId="file-explorer-editor",o.unmounted=!1,o.updateScroll=!1,o.scrollTopPosition=0,o.monacoEditorCreate=void 0,o.keyMod=void 0,o.keyCode=void 0,o.loadFileContent=Object(u.a)(p.a.mark((function e(){var t,n,a,i,l,s,c,u=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]&&u[0],n=o.props.file,!o.props.enableHtmlRendering||n.fileType!==O.b.html){e.next=5;break}return o.setState({loading:!1,fileContent:""},o.launchEditor),e.abrupt("return");case 5:if(t?(o.setScrollTopPosition(),o.setState({loading:!1,fileContent:o.state.fileContent,messages:[]})):o.setState({loading:!0,fileContent:o.state.fileContent,messages:[]}),e.prev=6,l="",!o.props.textFileContent){e.next=14;break}if(l=o.props.textFileContent,n.blobFullPath===o.props.file.blobFullPath){e.next=12;break}return e.abrupt("return");case 12:e.next=20;break;case 14:if(!n.getContent){e.next=20;break}return e.next=17,n.getContent();case 17:if(l=e.sent,n.blobFullPath===o.props.file.blobFullPath){e.next=20;break}return e.abrupt("return");case 20:s=Array.isArray(l)?[void 0,l]:[l,void 0],c=Object(r.a)(s,2),a=c[0],i=c[1],e.next=31;break;case 26:if(e.prev=26,e.t0=e.catch(6),n.blobFullPath===o.props.file.blobFullPath){e.next=30;break}return e.abrupt("return");case 30:i=[{message:String(e.t0),messageType:f.c.Error,title:N.b.Common_FileExplorerTab_FailedToLoadContent}];case 31:if(!o.unmounted){e.next=33;break}return e.abrupt("return");case 33:i?o.setState({loading:!1,messages:i}):t&&a===o.state.fileContent||(o.updateScroll=t,o.setState({loading:!1,fileContent:a},o.launchEditor));case 34:case"end":return e.stop()}}),e,null,[[6,26]])}))),o.launchEditor=function(){var e=o.props.expContext.isEnabled(b.a.notebookmdEditor);switch(o.props.file.fileType){case O.b.jupyter:o.launchJupyterEditor();break;case O.b.image:o.launchImageViewer();break;case O.b.html:o.props.enableHtmlRendering?o.launchHtmlViewer():o.launchMonacoEditor();break;case O.b.markdown:e&&!o.props.isMarkdownEditor?o.launchMarkdownViewer():o.launchMonacoEditor();break;default:o.launchMonacoEditor()}},o.onEditorLoaded=function(e){o.props.onEditorLaunched&&o.props.onEditorLaunched(e)},o.launchJupyterEditor=function(){if(o.cleanEditor(),o.state.fileContent&&"string"===typeof o.state.fileContent)try{Y.render(C.a.parse(o.state.fileContent),o.getEditorEle(),void 0),o.onEditorLoaded(n.JupyterReadonly)}catch(t){var e={messageType:f.c.Error,title:N.b.Common_FileExplorerTab_InvalidNotebook,message:N.b.Common_FileExplorerTab_InvalidNotebookMessage};o.setState({messages:[e]}),o.launchMonacoEditor()}},o.launchMarkdownViewer=function(){o.cleanEditor();var e=o.getEditorEle();if(null!==e){var t=function(){var e=Object(B.b)();return Object(D.cb)({divStyle:{paddingTop:e.spacing.m,paddingLeft:e.spacing.s1,paddingRight:e.spacing.m},cardStyle:{width:"100%",boxShadow:e.effects.elevation4,backgroundColor:e.custom.bodyBackgroundElevated},descriptionTextStyle:{fontSize:"16px",fontWeight:400,minWidth:0,padding:"16px",wordWrap:"break-word",whiteSpace:"pre-wrap",overflowY:"auto"}})}().descriptionTextStyle,r={classNames:Object(D.cb)({markdownContainerWithoutOutline:{height:"100%",width:"100%",overflow:"auto"}})}.classNames;if(o.state.fileContent&&"string"===typeof o.state.fileContent){var a=P.createElement("div",{className:r.markdownContainerWithoutOutline},P.createElement(d.a,{variant:"medium",className:t},P.createElement(P.Suspense,{fallback:m.a},P.createElement(K,{source:o.state.fileContent,viewOnly:!0,emptyContentMessage:N.b.Content_Is_Empty,onLinkClick:Object(L.a)(o.props.file.blobFolderPath,o.props.routeContext,o.props.authContext,o.props.workspaceContext,o.props.expContext,o.props.authorizationContext),transformImageUri:Object(z.b)(o.props.file.blobFolderPath,o.props.authContext,o.props.expContext,o.props.workspaceContext,o.props.authorizationContext)}))));o.setState({loading:!0},(function(){return A.a.render(a,e),{loading:!1,message:[]}})),o.onEditorLoaded(n.MarkdownViewer)}}},o.shouldUseScrollPosition=function(){return!(!o.updateScroll||!o.monacoEditor)&&(o.monacoEditor.setScrollPosition({scrollTop:o.monacoEditor.getScrollHeight()}),o.monacoEditor.getScrollTop()-o.scrollTopPosition>50)},o.safeCreateMonacoEditor=function(){var e=o.getEditorEle();if(null!==e&&void 0!==o.state.fileContent&&"string"===typeof o.state.fileContent){var t=o.props.file.fileExtension,n=o.props.wordWrap?"on":"off";o.monacoEditor=o.monacoEditorCreate&&o.monacoEditorCreate(e,{value:o.state.fileContent,language:t&&O.a.getMonacoLanguageFromExtension(t)||"plaintext",readOnly:!o.props.editable,theme:M.a.getMonacoTheme(o.props.themeContext.theme),minimap:{enabled:!1},automaticLayout:!0,renderLineHighlight:"none",scrollBeyondLastLine:!1,fixedOverflowWidgets:!0,wordWrap:n})}else{v.a.trackEvent(g.a.Notebook_UserError_File_Not_Exists),o.monacoEditor=void 0;var r={messageType:f.c.Error,title:"",message:N.b.Common_FileNotFoundMessage,unDismissable:!0,errorCode:k.d.Notebook_UserError_File_Not_Exists};o.props.messageContext.addMessage(r)}},o.launchMonacoEditor=function(){if(void 0!==o.state.fileContent&&"string"===typeof o.state.fileContent){o.setScrollTopPosition();var e=o.shouldUseScrollPosition();if(o.cleanEditor(),!o.props.file.previewNotAvailable){if(o.safeCreateMonacoEditor(),void 0===o.monacoEditor)return;if(o.props.onMonacoEditorCreate&&o.props.onMonacoEditorCreate(o.monacoEditor),o.registerShortcuts(),o.updateScroll||o.shouldScrollToBottom()){var t=e?o.scrollTopPosition:o.monacoEditor.getScrollHeight();o.monacoEditor.setScrollPosition({scrollTop:t}),o.updateScroll&&(o.updateScroll=!1)}o.onEditorLoaded(n.MonacoEditor)}}},o.launchImageViewer=function(){if(o.cleanEditor(),o.state.fileContent&&"string"!==typeof o.state.fileContent){var e=o.getEditorEle();if(null!==e){var t=document.createElement("img");t.title=o.props.file.fileName,t.classList.add("file-explorer-image"),e.appendChild(t);var r,a=new FileReader;switch(a.addEventListener("load",(function(e){a.result&&"string"===typeof a.result&&(t.src=a.result,o.onEditorLoaded(n.ImageViewer))})),o.props.file.fileExtension){case".png":r={type:"image/png"};break;case".jpg":case".jpeg":r={type:"image/jpeg"};break;case".bmp":r={type:"image/bmp"};break;case".gif":r={type:"image/gif"};break;case".svg":r={type:"image/svg+xml"}}a.readAsDataURL(new Blob([o.state.fileContent],r))}}},o.launchHtmlViewer=Object(u.a)(p.a.mark((function e(){var t,r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.cleanEditor(),o.props.file.getContentUrl){e.next=3;break}return e.abrupt("return");case 3:if(null!==(t=o.getEditorEle())){e.next=6;break}return e.abrupt("return");case 6:return(r=document.createElement("iframe")).setAttribute("sandbox",""),r.title=o.props.file.fileName,r.classList.add("file-explorer-html"),r.setAttribute("style","height: 100%; width: 100%; border: none; overflow: hidden"),o.setState({loading:!0}),e.next=14,o.props.file.getContentUrl();case 14:"string"===typeof(a=e.sent)?(r.src=a,t.appendChild(r),o.setState({loading:!1,messages:[]})):o.setState({loading:!1,messages:a}),o.onEditorLoaded(n.HtmlViewer);case 17:case"end":return e.stop()}}),e)}))),o.shouldScrollToBottom=function(){return!!o.props.scrollToBottom&&o.props.scrollToBottom(o.props.file)},o.dismissMessage=function(e){e&&o.setState((function(t){return{messages:t.messages.filter((function(t){return t!==e}))}}))},o.state={loading:!1,fileContent:o.props.textFileContent,messages:[]},o}return Object(i.a)(c,[{key:"componentDidMount",value:function(){var e=this;Promise.all([o.e(0),o.e(3)]).then(o.t.bind(null,"qV0X",7)).then((function(t){e.monacoEditorCreate=t.editor.create,e.keyMod=t.KeyMod,e.keyCode=t.KeyCode,e.props.file.previewNotAvailable||e.loadFileContent()}))}},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(p.a.mark((function e(t){var o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.themeContext.theme===this.props.themeContext.theme&&this.props.wordWrap===t.wordWrap||this.reloadEditor(),(t.file.blobFolderPath!==this.props.file.blobFolderPath||this.props.silentReload)&&(o=t.file.blobFullPath===this.props.file.blobFullPath||this.props.silentReload,this.props.file.previewNotAvailable||this.loadFileContent(o));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"render",value:function(){if(this.props.file.previewNotAvailable)return this.renderPreviewNotAvailable();var e=this.props.file.fileType===O.b.jupyter?"jupyter-editor-container":"monaco-editor-container";return P.createElement(_.a,{grow:1,verticalFill:!0,styles:{root:{overflow:"auto"}},className:"file-explorer-tab"},P.createElement(h.MessageBar,{messages:this.state.messages,onDismiss:this.dismissMessage}),P.createElement(_.a,{grow:1,verticalFill:!0,className:e},this.props.showLoadingSpinner&&this.state.loading&&void 0===this.state.fileContent&&P.createElement(m.a,null),void 0!==this.state.fileContent&&P.createElement("div",{id:this.editorEleId})))}},{key:"reloadEditor",value:function(){this.props.beforeEditorReload&&this.props.beforeEditorReload(),this.cleanEditor(),this.launchEditor()}},{key:"setScrollTopPosition",value:function(){this.monacoEditor&&(this.scrollTopPosition=this.monacoEditor.getScrollTop())}},{key:"renderPreviewNotAvailable",value:function(){var e={messageType:f.c.Warning,title:"",message:N.b.Common_FileTypeIsUnsupported,unDismissable:!0},t=N.b.Common_FilePreviewNotAvailable,o=P.createElement(j.a,{textUnderImage:t,altText:t});return P.createElement(I.a,{errorMessage:e,errorImageComponent:o})}},{key:"registerShortcuts",value:function(){this.keyCode&&this.keyMod&&this.monacoEditor&&this.props.shortcutSave&&this.monacoEditor.addCommand(this.keyMod.CtrlCmd|this.keyCode.KEY_S,this.props.shortcutSave)}},{key:"cleanEditor",value:function(){this.monacoEditor&&this.monacoEditor.dispose();var e=this.getEditorEle();if(e)for(;e.firstChild;)e.removeChild(e.firstChild)}},{key:"getEditorEle",value:function(){return document.getElementById(this.editorEleId)}}]),c}(P.Component),q=Object(E.a)(Object(x.a)(Object(F.a)(Object(y.a)(Object(T.a)(Object(w.a)(Object(S.a)(G)))))))},P11g:function(e,t,o){"use strict";o.d(t,"a",(function(){return d}));var n=o("9fIP"),r=o("MMYH"),a=o("8K1b"),i=o("AqVP"),l=o("ERkP"),s=o("d0cs"),c=o("LWCo"),p=o("kgxj"),u=o("XX2E"),d=function(e){Object(a.a)(o,e);var t=Object(i.a)(o);function o(e){return Object(n.a)(this,o),t.call(this,e)}return Object(r.a)(o,[{key:"render",value:function(){var e=Object(s.db)({position:"relative"});return l.createElement(c.a,{grow:1,verticalFill:!0,className:e},this.props.errorMessage&&l.createElement(p.MessageBar,{messages:[this.props.errorMessage]}),l.createElement(u.a,{styles:{root:{backgroundColor:"none"}},capturePointer:!0},this.props.errorImageComponent,this.props.text,this.props.button))}}]),o}(l.PureComponent)},QyBD:function(e,t,o){"use strict";o.d(t,"b",(function(){return i})),o.d(t,"a",(function(){return l}));var n=o("08Ha"),r=o("jeyl"),a=o("d/Yy"),i=function(e,t,o,a){return!(!e.startsWith("http://")&&!e.startsWith("https://"))||(a.getUserFileProps("".concat(n.a.getPathDirectoryName(t),"/").concat(e)).then((function(a){return 0===a.status?(o.navigateTo(r.a.FileExplorerAzNBRoute,{},{activeFilePath:"".concat(n.a.getPathDirectoryName(t),"/").concat(e)}),!1):(o.navigateTo(r.a.FileExplorerAzNBRoute,{},{activeFolderPath:"".concat(n.a.getPathDirectoryName(t),"/").concat(e)}),!1)})),!1)},l=function(e,t,o,n,r,l){var s=new a.WorkstationClient(o,n,r,l);return function(o){return i(o,e,t,s)&&window.open(o,"_blank","noopener,noreferrer"),!1}}},UUnl:function(e,t,o){"use strict";o.d(t,"a",(function(){return p}));var n=o("Czhu"),r=o("9fIP"),a=o("MMYH"),i=o("8K1b"),l=o("AqVP"),s=o("ERkP"),c=o("HMQ2");function p(e){var t,o;return o=t=function(t){Object(i.a)(c,t);var o=Object(l.a)(c);function c(e){var t;return Object(r.a)(this,c),(t=o.call(this,e)).context=void 0,t}return Object(a.a)(c,[{key:"render",value:function(){var t=Object(n.a)({},this.props);return t.notebookContext=t.notebookContext||this.context,s.createElement(e,t)}}]),c}(s.Component),t.contextType=c.a,o}},b7UM:function(e,t,o){"use strict";o.d(t,"a",(function(){return Q}));var n,r=o("zygG"),a=o("2h71"),i=o("9fIP"),l=o("MMYH"),s=o("8K1b"),c=o("AqVP"),p=o("PzCU"),u=o("uljN"),d=o("545W"),m=o("8Zff"),h=o("1eWE"),f=o("LH/S"),b=o("WmIi"),C=o("UCt/"),v=o("yiDG"),g=o("tU2x"),k=o("Ya8k"),E=o("fGUH"),x=o("UUnl"),F=o("KodL"),y=o("d0cs"),T=o("LWCo"),w=o("29A7"),S=o("DcGW"),_=o("kAs5"),P=o("l+kp"),O=o("N8RY"),j=o("ERkP"),M=o.n(j),I=o("5Bkh"),N=o("P11g"),R=o("N2Yl"),A=o("DHa3"),B=o("4ste"),D=(o("hRy0"),o("WYY7")),L=o("s+9k"),H=o("Ippe"),U=o("3q6J"),W=o("D2CC"),V=o("HjZW"),Y=function(e){Object(s.a)(o,e);var t=Object(c.a)(o);function o(){var e;Object(i.a)(this,o);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).onCloseIconClick=function(t){var o=e.props.itemProps.itemKey;e.props.onTabCloseClick(o,t)},e}return Object(l.a)(o,[{key:"render",value:function(){return M.a.createElement(M.a.Fragment,null,M.a.createElement("div",{className:"tab-title-text"},M.a.createElement(U.a,{content:this.props.tooltip,delay:W.a.long,directionalHint:O.a.topLeftEdge,calloutProps:{calloutMaxWidth:1e3}},this.props.defaultRenderer(this.props.itemProps))),M.a.createElement(U.a,{content:A.b.Common_FileExplorer_CloseTab,directionalHint:O.a.topCenter,styles:{root:{display:"flex"}},calloutProps:{isBeakVisible:!0}},M.a.createElement(V.a,{iconProps:{iconName:D.a.Close},onClick:this.onCloseIconClick,className:"tab-close-icon",ariaLabel:A.b.Common_FileExplorer_CloseTab,"data-is-focusable":"true",role:"button"})))}}]),o}(M.a.Component),z=function(e){Object(s.a)(o,e);var t=Object(c.a)(o);function o(){var e;Object(i.a)(this,o);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).fileId=e.props.itemProps.itemKey,e.onRightClick=function(t){e.props.onRightClick(e.fileId,t)},e}return Object(l.a)(o,[{key:"render",value:function(){var e=this.props.getFile(this.fileId),t=e?e.blobFolderPath:A.b.Common_FileNotFound,o=e?e.fileIcon:D.a.InlineFailed;this.props.loading&&(o=D.a.Clock);var n="",r=A.b.Common_FileExplorer_Editable;e&&(e.isGalleryFile||!this.props.authorizationContext.hasPermission(H.a.NotebookStorageWrite)||this.props.notebookContext.getIsReadOnlyMap().get(e.fileId))&&(n=D.a.LockSolid,r=A.b.Common_FileExplorer_NotEditable);var a,i=Object(y.db)({marginRight:"4px"});return this.props.isDirtyMap&&e&&this.props.isDirtyMap.get(e.blobFolderPath)&&(a=!0),M.a.createElement("div",{className:"pivot-link-content",onContextMenu:this.onRightClick},M.a.createElement(L.a,{name:n,className:i,ariaLabel:r}),M.a.createElement(L.a,{name:o,className:i}),a&&M.a.createElement(L.a,{name:D.a.AsteriskSolid,className:Object(y.db)({fontSize:"6px",marginRight:"1px"})}),M.a.createElement(Y,{tooltip:t,itemProps:this.props.itemProps,defaultRenderer:this.props.defaultRenderer,onTabCloseClick:this.props.onTabCloseClick}))}}]),o}(M.a.Component),K=Object(E.a)(Object(k.a)(Object(x.a)(z))),G=function(e){Object(s.a)(o,e);var t=Object(c.a)(o);function o(){var e;Object(i.a)(this,o);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).terminalId=e.props.itemProps.itemKey,e.onRightClick=function(t){e.props.onRightClick(e.terminalId,t)},e.getTooltipText=function(){var t;return(null===(t=e.props.tabHeaderTextMap)||void 0===t?void 0:t.get(e.terminalId))||A.b.Terminal},e}return Object(l.a)(o,[{key:"render",value:function(){var e=D.a.CommandPrompt,t=Object(y.db)({marginRight:"4px"});return M.a.createElement("div",{className:"pivot-link-content",onContextMenu:this.onRightClick},M.a.createElement(L.a,{name:e,className:t}),M.a.createElement(Y,{tooltip:this.getTooltipText(),itemProps:this.props.itemProps,defaultRenderer:this.props.defaultRenderer,onTabCloseClick:this.props.onTabCloseClick}))}}]),o}(M.a.Component);!function(e){e.FilePivot="FilePivot",e.TerminalPivot="TerminalPivot"}(n||(n={}));var q=function(e){Object(s.a)(o,e);var t=Object(c.a)(o);function o(e){var l;return Object(i.a)(this,o),(l=t.call(this,e)).renderTabInPivot=function(e){var t;switch(l.props.onRenderInTab&&(t=l.props.onRenderInTab(e)),l.pivotType(e)){case n.FilePivot:var o=l.props.getFile(e);return o&&t?j.createElement(p.a,null,t):o?j.createElement(p.a,null,j.createElement(R.b,{file:o,editable:!1,showLoadingSpinner:!0,silentReload:l.props.silentReload,enableHtmlRendering:l.props.enableHtmlRendering,scrollToBottom:l.props.scrollToBottom,wordWrap:l.props.wordWrap})):l.props.loading?j.createElement(j.Fragment,null):l.renderFileNotFound();case n.TerminalPivot:return t?j.createElement(p.a,null,t):l.props.loading?j.createElement(j.Fragment,null):l.renderFileNotFound();default:return j.createElement(j.Fragment,null)}},l.getHeaderText=function(e){var t;if(l.props.loading)return A.b.Common_Loading_With_Ellipsis;var o=null===(t=l.props.tabHeaderTextMap)||void 0===t?void 0:t.get(e);if(o)return o;if(l.pivotType(e)===n.TerminalPivot)return A.b.Terminal;var r=l.props.getFile(e);return r?r.fileName:A.b.Common_FileNotFound},l.getFileName=function(){var e;return l.state.fileIdPendingClose&&l.props.getFile(l.state.fileIdPendingClose)&&(null===(e=l.props.getFile(l.state.fileIdPendingClose))||void 0===e?void 0:e.fileName)||""},l.pivotType=function(e){return e&&B.b.isTerminalFileTabId(e)?n.TerminalPivot:n.FilePivot},l.onRenderItem=function(e,t){return t&&e?l.pivotType(e.itemKey)===n.TerminalPivot?j.createElement(G,{itemProps:e,tabHeaderTextMap:l.props.tabHeaderTextMap,defaultRenderer:t,onRightClick:l.onRightClick,onTabCloseClick:l.onTabCloseClick}):j.createElement(K,{loading:l.props.loading,itemProps:e,isDirtyMap:l.props.isDirtyMap,getFile:l.props.getFile,defaultRenderer:t,onRightClick:l.onRightClick,onTabCloseClick:l.onTabCloseClick}):j.createElement(j.Fragment,null)},l.onRightClick=function(e,t){m.a.trackEvent(h.a.Notebook_Tabs_OnRightClick),t.stopPropagation(),t.preventDefault(),l.setState({rightClickMenuEvent:t.nativeEvent,rightClickedFileId:e})},l.onRightClickMenuDismiss=function(){l.setState({rightClickMenuEvent:void 0,rightClickedFileId:void 0})},l.onTabClick=function(e){if(e){var t=e.props.itemKey;l.props.onFileSelect(t)}},l.onTabCloseClick=function(e,t){m.a.trackEvent(h.a.Notebook_Tabs_CloseTab),t.stopPropagation(),l.props.isDirtyMap&&l.props.isDirtyMap.get(e)||l.props.isTerminalRunning&&l.props.isTerminalRunning(e)?l.setState({showConfirmCloseTabDialog:!0,fileIdPendingClose:e}):l.props.onFilesClose([e])},l.onConfirmCloseTab=function(){l.setState({showConfirmCloseTabDialog:!1}),l.props.onFilesClose([l.state.fileIdPendingClose])},l.onDismissCloseTab=function(){l.setState({showConfirmCloseTabDialog:!1})},l.beforeUnload=function(e){if(l.props.isDirtyMap){var t,o=Object(a.a)(l.props.isDirtyMap);try{for(o.s();!(t=o.n()).done;){var n=Object(r.a)(t.value,2);n[0];if(n[1]){e.preventDefault(),e.returnValue=!0;break}}}catch(i){o.e(i)}finally{o.f()}}},l.onCloseOtherTabs=function(){m.a.trackEvent(h.a.Notebook_Tabs_CloseOtherTabs);var e=l.props.selectedFileIds.filter((function(e){return e!==l.state.rightClickedFileId}));l.props.onFilesClose(e)},l.onCloseTabsToRight=function(){m.a.trackEvent(h.a.Notebook_Tabs_CloseTabsToRight);var e=l.props.selectedFileIds.findIndex((function(e){return e===l.state.rightClickedFileId})),t=l.props.selectedFileIds.slice(e+1);l.props.onFilesClose(t)},l.onCloseTabsToLeft=function(){m.a.trackEvent(h.a.Notebook_Tabs_CloseTabsToLeft);var e=l.props.selectedFileIds.findIndex((function(e){return e===l.state.rightClickedFileId})),t=l.props.selectedFileIds.slice(0,e);l.props.onFilesClose(t)},l.state={rightClickMenuEvent:void 0,rightClickedFileId:void 0,showConfirmCloseTabDialog:!1,fileIdPendingClose:""},l}return Object(l.a)(o,[{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.beforeUnload)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.beforeUnload)}},{key:"render",value:function(){var e=this;if(0===this.props.selectedFileIds.length)return j.createElement(I.a,null);if(this.props.onRender){var t=this.props.onRender(this.props.activeFileId);if(t)return t}var o=Object(y.X)(),n=o.palette.themePrimary,r=o.palette.neutralTertiary,a=o.palette.neutralTertiaryAlt,i=this.props.themeContext.theme===f.a.Dark,l={linkIsSelected:{backgroundColor:i?b.a.SecondarySurfaceColor:"white",color:i?"white":"black",borderTop:"3px solid ".concat(n),borderRight:"1px solid ".concat(r),marginRight:"2px",boxShadow:"-5px 0 5px -2px ".concat(a,", 5px 0 5px -2px ").concat(a)},link:{backgroundColor:i?"unset":this.props.themeContext.themeStyles.palette.neutralLighter,borderRight:"1px solid ".concat(r)}},s="file-explorer-pivot";return this.props.userContext.userSettings.notebookIsInExpandedView&&(s+=" notebookExpandedView"),j.createElement(j.Fragment,null,j.createElement(T.a,{grow:1,verticalFill:!0,id:"file-explorer-pane"},j.createElement(T.a.Item,{verticalFill:!0},j.createElement(w.a,{selectedKey:this.props.activeFileId,linkFormat:S.a.tabs,onLinkClick:this.onTabClick,className:s,styles:l},this.props.selectedFileIds.map((function(t){return j.createElement(_.a,{headerText:e.getHeaderText(t),itemKey:t,onRenderItemLink:e.onRenderItem,key:t},e.renderTabInPivot(t))})))),this.state.rightClickMenuEvent&&this.renderRightClickMenu()),j.createElement(u.a,{telemetryKey:"".concat(h.a.Notebook_ConfirmationDialog_Close_Tab,"-").concat(this.pivotType(this.state.fileIdPendingClose)),confirmButtonText:this.getCloseTabDialogConfirmButtonText(),title:this.getCloseTabDialogTitle(),hidden:!this.state.showConfirmCloseTabDialog,onConfirm:this.onConfirmCloseTab,onClose:this.onDismissCloseTab},this.getCloseTabDialogBodyText()))}},{key:"getCloseTabDialogBodyText",value:function(){return this.pivotType(this.state.fileIdPendingClose)===n.TerminalPivot?A.b.Terminal_CloseTab_Body:Object(C.a)(A.b.Common_FileExplorer_CloseTab_CloseWithoutSaving,{fileName:this.getFileName()})}},{key:"getCloseTabDialogTitle",value:function(){return this.pivotType(this.state.fileIdPendingClose)===n.TerminalPivot?A.b.Terminal_CloseTab_Title:A.b.Common_FileExplorer_CloseTab_ConfirmTitle}},{key:"getCloseTabDialogConfirmButtonText",value:function(){return this.pivotType(this.state.fileIdPendingClose)===n.TerminalPivot?A.b.Terminal_CloseTab_Confirm:A.b.Common_Confirm}},{key:"renderFileNotFound",value:function(){var e={messageType:v.c.Error,title:"",message:A.b.Common_FileNotFoundMessage,unDismissable:!0},t=A.b.Common_FileNotFoundMessage,o=j.createElement(d.a,{textUnderImage:t,altText:t});return j.createElement(N.a,{errorMessage:e,errorImageComponent:o})}},{key:"renderRightClickMenu",value:function(){return j.createElement(P.a,{target:this.state.rightClickMenuEvent,directionalHint:O.a.rightTopEdge,onDismiss:this.onRightClickMenuDismiss,items:[{key:"1",text:A.b.Common_Tabs_CloseOtherTabs,onClick:this.onCloseOtherTabs},{key:"2",text:A.b.Common_Tabs_CloseTabsToRight,onClick:this.onCloseTabsToRight},{key:"3",text:A.b.Common_Tabs_CloseTabsToLeft,onClick:this.onCloseTabsToLeft}]})}}]),o}(j.Component),Q=Object(g.a)(Object(k.a)(Object(E.a)(Object(x.a)(Object(F.a)(q)))))},cVho:function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));var n=o("VtSi"),r=o.n(n),a=o("QsI/");function i(e){return l.apply(this,arguments)}function l(){return(l=Object(a.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var o=new FileReader;o.onloadend=function(){e(o.result)},o.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},"h+sQ":function(e,t,o){e.exports=o.p+"static/media/FilePreviewNotAvailable.5858db0e.svg"},kAYM:function(e,t,o){"use strict";o.d(t,"a",(function(){return x}));var n=o("VtSi"),r=o.n(n),a=o("QsI/"),i=o("9fIP"),l=o("MMYH"),s=o("8K1b"),c=o("AqVP"),p=o("WYY7"),u=o("PDHI"),d=o("HACW"),m=o("Ya8k"),h=o("LWCo"),f=o("ERkP"),b=o("DHa3"),C=o("vAH7"),v=(o("P12E"),o("yn+z")),g=o("yPX8"),k={sampleFileSearchText:"",showUserFileSearchBox:!1},E=function(e){Object(s.a)(o,e);var t=Object(c.a)(o);function o(e){var n;return Object(i.a)(this,o),(n=t.call(this,e)).sampleFileExplorerSearch=void 0,n.shouldReloadIndex=!0,n.onSearchTextChange=function(e,t,o){n.props.onSearchTextChange&&n.props.onSearchTextChange(t,o),n.state.showUserFileSearchBox!==e&&n.setState({showUserFileSearchBox:e})},n.showRefreshButton=function(){return!(!n.props.showRefresh||!(n.props.searchProvider instanceof g.a)&&n.state.sampleFileSearchText)},n.onFilesFiltered=function(e,t,o,r){n.props.onFilesFiltered&&n.props.onFilesFiltered(e,t,o,r),n.setState({sampleFileSearchText:t})},n.updateSampleFileExplorerSearch=function(e){e&&(n.sampleFileExplorerSearch=e)},n.onFileClick=function(e){n.props.onFileOpen&&n.props.onFileOpen(e)},n.onNavToggleClick=function(){n.props.onNavToggle()},n.onRefreshClick=function(){var e;n.commandActionClick(C.a.Refresh),null===(e=n.sampleFileExplorerSearch)||void 0===e||e.clearIndexCache(),n.shouldReloadIndex=!0,n.sampleFileExplorerSearch=void 0},n.onUploadDirectoryClick=function(){n.commandActionClick(C.a.UploadFolder)},n.onUploadClick=function(){n.commandActionClick(C.a.Upload)},n.onCreateFolderClick=function(){n.commandActionClick(C.a.CreateFolder)},n.onCreateFileClick=function(){n.commandActionClick(C.a.CreateFile)},n.terminalAction=Object(a.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.onTerminalOpen&&n.props.onTerminalOpen();case 1:case"end":return e.stop()}}),e)}))),n.commandActionClick=function(e){n.props.onCommandAction&&n.props.onCommandAction(e)},n.state=k,n}return Object(l.a)(o,[{key:"componentDidUpdate",value:function(e){e.hideSearch&&!this.props.hideSearch&&(this.shouldReloadIndex=!0),this.shouldReloadIndex&&this.sampleFileExplorerSearch&&(this.sampleFileExplorerSearch.cacheIndexFile(),this.shouldReloadIndex=!1)}},{key:"render",value:function(){var e="file-explorer-command-bar ".concat(this.props.isCollapsed?"collapsed":""),t=this.props.isCollapsed?b.b.Common_FileExplorer_ExpandFileExplorer:b.b.Common_FileExplorer_CollapseFileExplorer;return f.createElement("div",{className:e},f.createElement(h.a,{className:"focus-command-bar"},f.createElement(h.a,{horizontal:!0,horizontalAlign:"end",verticalFill:!0,verticalAlign:"center",className:"command-bar"},!this.props.loading&&this.renderLoadedState(),f.createElement(v.a,{tooltipContent:t,className:"nav-toggle",ariaLabel:t,iconProps:{iconName:p.a.ChevronDoubleLeft},onClick:this.onNavToggleClick})),f.createElement(u.a,{message:this.props.actionStartMessage})))}},{key:"renderLoadedState",value:function(){var e;return this.props.searchProvider&&(e=this.props.searchProvider.getSearchProvider()),f.createElement(f.Fragment,null,e&&f.createElement(e,{onSearchTextChange:this.onSearchTextChange,onFileClick:this.onFileClick,onFilesFiltered:this.onFilesFiltered,searchableFileGroups:this.props.searchableFileGroups,dismissSampleSearchBubble:this.props.dismissSampleSearchBubble,dismissSampleSearchCallout:this.props.dismissSampleSearchCallout,updateSampleCalloutSetting:this.props.updateSampleCalloutSetting,updateSampleFileExplorerSearch:this.updateSampleFileExplorerSearch}),!this.state.showUserFileSearchBox&&this.renderFileCommandButtons())}},{key:"renderFileCommandButtons",value:function(){var e,t,o,n,r;return f.createElement(f.Fragment,null,(null===(e=this.props.terminalAction)||void 0===e?void 0:e.shouldShow)&&f.createElement(v.a,{tooltipContent:Object(d.c)(b.b.Common_Terminal_Action,b.b.No_Permissions_For_Action,this.props.terminalAction.isEnabled),className:"terminal-action-button",ariaLabel:b.b.Common_Terminal_Action,iconProps:{iconName:p.a.CommandPrompt},onClick:this.terminalAction,disabled:!this.props.terminalAction.isEnabled}),(null===(t=this.props.createFileAction)||void 0===t?void 0:t.shouldShow)&&f.createElement(v.a,{tooltipContent:Object(d.c)(b.b.Common_FileExplorer_CreateFile,b.b.No_Permissions_For_Action,this.props.createFileAction.isEnabled),className:"create-file-button",ariaLabel:b.b.Common_FileExplorer_CreateFile,iconProps:{iconName:p.a.CreateFile},onClick:this.onCreateFileClick,disabled:!this.props.createFileAction.isEnabled}),(null===(o=this.props.createFolderAction)||void 0===o?void 0:o.shouldShow)&&f.createElement(v.a,{tooltipContent:Object(d.c)(b.b.Common_FileExplorer_CreateFolder,b.b.No_Permissions_For_Action,this.props.createFolderAction.isEnabled),className:"create-folder-button",ariaLabel:b.b.Common_FileExplorer_CreateFolder,iconProps:{iconName:p.a.NewFolder},onClick:this.onCreateFolderClick,disabled:!this.props.createFolderAction.isEnabled}),(null===(n=this.props.uploadAction)||void 0===n?void 0:n.shouldShow)&&f.createElement(v.a,{tooltipContent:Object(d.c)(b.b.Common_FileExplorer_UploadFile,b.b.No_Permissions_For_Action,this.props.uploadAction.isEnabled),className:"upload-file-button",ariaLabel:b.b.Common_FileExplorer_UploadFile,iconProps:{iconName:p.a.Upload},onClick:this.onUploadClick,disabled:!this.props.uploadAction.isEnabled}),(null===(r=this.props.uploadFolderAction)||void 0===r?void 0:r.shouldShow)&&f.createElement(v.a,{tooltipContent:Object(d.c)(b.b.Common_FileExplorer_UploadFolder,b.b.No_Permissions_For_Action,this.props.uploadFolderAction.isEnabled),className:"upload-folder-button",ariaLabel:b.b.Common_FileExplorer_UploadFolder,iconProps:{iconName:p.a.DirectoryUpload},onClick:this.onUploadDirectoryClick,disabled:!this.props.uploadFolderAction.isEnabled}),this.showRefreshButton()&&f.createElement(v.a,{tooltipContent:b.b.Common_FileExplorer_Refresh,className:"refresh-button",ariaLabel:b.b.Common_FileExplorer_Refresh,iconProps:{iconName:p.a.Refresh},onClick:this.onRefreshClick}))}}]),o}(f.Component),x=Object(m.a)(E)},xUnk:function(e,t,o){"use strict";o.d(t,"a",(function(){return d})),o.d(t,"b",(function(){return m}));var n=o("VtSi"),r=o.n(n),a=o("QsI/"),i=o("67aH"),l=o("cVho"),s=o("d/Yy"),c=o("oNVP"),p=o.n(c),u=o("Xh/f"),d=function(){var e=Object(a.a)(r.a.mark((function e(t,o,n){var a,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&!t.startsWith("http")){e.next=2;break}return e.abrupt("return",t);case 2:if(!Object(u.f)(o)){e.next=8;break}return e.next=5,n.getGalleryFileContent(p.a.join(p.a.dirname(o),t));case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,n.getUserFileContent(p.a.join(p.a.dirname(o),t));case 10:e.t0=e.sent;case 11:if(!(a=e.t0)||!a.serviceResponses){e.next=18;break}return e.next=15,a.serviceResponses.toPromise();case 15:if((s=e.sent).status!==i.a.Ok||!s.data){e.next=18;break}return e.abrupt("return",Object(l.a)(s.data));case 18:return e.abrupt("return",t);case 19:case"end":return e.stop()}}),e)})));return function(t,o,n){return e.apply(this,arguments)}}(),m=function(e,t,o,n,i){var l=new s.WorkstationClient(t,n,o,i,void 0);return function(){var t=Object(a.a)(r.a.mark((function t(o){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",d(o,e,l));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},yPX8:function(e,t,o){"use strict";o.d(t,"a",(function(){return x})),o.d(t,"b",(function(){return F}));var n=o("9fIP"),r=o("MMYH"),a=o("8K1b"),i=o("AqVP"),l=o("ERkP"),s=o.n(l),c=o("2h71"),p=o("WYY7"),u=o("NFS1"),d=o("8Zff"),m=o("1eWE"),h=o("nsO7"),f=o("jrD+"),b=o("ctLR"),C=o("DHa3"),v=(o("P12E"),o("yn+z")),g=function(){function e(t,o){var r=this;Object(n.a)(this,e),this.searchButtonRef=void 0,this.searchBoxOptions=[],this.searchableFileGroups=void 0,this.showSearchBox=void 0,this.formSearchBoxOptions=function(e){var t=e,o=r.getFilesByFileType(t),n=Object.keys(o);return n.sort((function(e,t){return e.localeCompare(t)})),r.getSearchBoxOptions(n,o)},this.getFilesByFileType=function(e){for(var t={},o=0,n=Object.values(e);o<n.length;o++){var r=n[o],a=h.capitalize(r.fileType);t[a]||(t[a]=[]),t[a].push(r)}return t},this.getSearchBoxOptions=function(e,t){var o,n=[],r=Object(c.a)(e);try{for(r.s();!(o=r.n()).done;){var a=o.value;n.push({key:a,text:a,itemType:f.a.Header});var i=t[a];i.sort((function(e,t){return e.fileName.localeCompare(t.fileName)})),(n=n.concat(i.map((function(e){return{key:e.fileId,text:e.fileName,title:"/".concat(e.blobFolderPath)}})))).push({key:"".concat(a,"Divider"),text:"-",itemType:f.a.Divider})}}catch(l){r.e(l)}finally{r.f()}return n},this.onRenderOption=function(e){switch(e.itemType){case f.a.Header:return l.createElement(b.a,{"aria-level":2,role:"heading"},e.text);case f.a.Normal:return l.createElement(b.a,{"aria-level":3},e.text);default:return l.createElement("span",null,e.text)}},this.onSearchOptionSelection=function(e){d.a.trackEvent(m.a.FileExplorer_SearchItemSelected),r.onFileClick&&e&&r.onFileClick(e)},this.onMenuOpen=function(){d.a.trackEvent(m.a.FileExplorer_Search_Click)},this.shouldShowSearchBox=function(){r.showSearchBox=!0,r.onSearchBoxClick&&r.onSearchBoxClick(r.showSearchBox)},this.hideSearchBox=function(){setTimeout((function(){r.showSearchBox=!1,r.onSearchBoxClick&&r.onSearchBoxClick(r.showSearchBox)}))},this.searchButtonRef=l.createRef(),this.showSearchBox=!1,this.onSearchBoxClick=t,this.onFileClick=o}return Object(r.a)(e,[{key:"renderSearchBox",value:function(e){return this.searchableFileGroups=e,this.showSearchBox?this.renderComboBox():this.renderSearchButton()}},{key:"getSearchBubble",value:function(){}},{key:"getSearchCallout",value:function(){}},{key:"cacheIndexFile",value:function(){}},{key:"clearIndexCache",value:function(){}},{key:"renderSearchButton",value:function(){return l.createElement("div",{role:"button",className:"search-input-area",onClick:this.shouldShowSearchBox,"aria-label":C.b.Common_FileExplorer_SearchByFileName},l.createElement(v.a,{tooltipContent:C.b.Common_FileExplorer_SearchByFileName,className:"search-button",ariaLabel:C.b.Common_FileExplorer_SearchByFileName,iconProps:{iconName:p.a.Search},calloutProps:{isBeakVisible:!0,gapSpace:8,target:'[data-icon-name="Search"]'},componentRef:this.searchButtonRef,onClick:this.shouldShowSearchBox,onFocus:this.shouldShowSearchBox}))}},{key:"renderComboBox",value:function(){return this.searchableFileGroups&&(this.searchBoxOptions=this.formSearchBoxOptions(this.searchableFileGroups)),l.createElement(u.a,{className:"search-input-area",options:this.searchBoxOptions,onOptionSelection:this.onSearchOptionSelection,onBlur:this.hideSearchBox,asSearchBox:!0,focusOnInitially:!0,placeholder:C.b.Common_FileExplorer_SearchByFileName,label:C.b.Common_FileExplorer_SearchByFileName,ariaLabel:C.b.Common_FileExplorer_SearchByFileName,onMenuOpen:this.onMenuOpen,onRenderOption:this.onRenderOption})}}]),e}(),k={showSearchBox:!0},E=function(e){Object(a.a)(o,e);var t=Object(i.a)(o);function o(e){var r;return Object(n.a)(this,o),(r=t.call(this,e)).fileExplorerSearch=void 0,r.onFileClick=function(e){r.props.onFileClick&&r.props.onFileClick(e)},r.onSearchBoxClick=function(e){r.setState({showSearchBox:e})},r.state=k,r.fileExplorerSearch=new g(r.onSearchBoxClick,r.onFileClick),r}return Object(r.a)(o,[{key:"render",value:function(){return this.props.searchableFileGroups?this.fileExplorerSearch.renderSearchBox(this.props.searchableFileGroups):s.a.createElement(s.a.Fragment,null)}}]),o}(s.a.Component),x=function(){function e(){Object(n.a)(this,e)}return Object(r.a)(e,[{key:"getSearchProvider",value:function(){return E}}]),e}(),F=new x},"yn+z":function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));var n=o("Czhu"),r=o("3q6J"),a=o("N8RY"),i=o("D2CC"),l=o("HjZW"),s=o("ERkP"),c=function(e){var t=e.tooltipContent,o=e.calloutProps,c=a.a.topCenter,p=Object(n.a)({isBeakVisible:!0},o);return s.createElement(r.a,{content:t,delay:i.a.medium,directionalHint:c,calloutProps:p},s.createElement(l.a,{className:e.className,ariaLabel:e.ariaLabel,disabled:e.disabled,iconProps:e.iconProps,componentRef:e.componentRef,onClick:e.onClick,onFocus:e.onFocus}))}}}]);
//# sourceMappingURL=41.9d1b85b4.chunk.js.map