(this["webpackJsonp@mlworkspace/portal"]=this["webpackJsonp@mlworkspace/portal"]||[]).push([[56],{"0MHK":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("2h71"),a=r("WwJx"),u=r("ERkP"),i=r.n(u),c=r("7GqX"),o=function(e,t,r){return"SampledMetrics-".concat(e,"-").concat(t,"-").concat(r)};function s(){var e=i.a.useContext(a.a);return[i.a.useCallback((function(t,r){var a,u=new Set,i=new Map,s=Object(n.a)(t);try{for(s.s();!(a=s.n()).done;){var l,f=a.value,d=new Map,h=Object(n.a)(r);try{for(h.s();!(l=h.n()).done;){var m=l.value,v=o(e.workspaceId,f,m),p=c.a.get(v);p&&"nodata"!==p&&d.set(m,p)}}catch(b){h.e(b)}finally{h.f()}d.keys.length===r.length&&i.set(f,d)}}catch(b){s.e(b)}finally{s.f()}return[u,i]}),[e.workspaceId]),i.a.useCallback((function(t,r,n){if(t&&r){var a=o(e.workspaceId,t,r),u=n||"nodata",i={expires:new Date(Date.now()+3e5)};c.a.set(a,u,i)}}),[e.workspaceId])]}},"1qYp":function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r("zygG"),a=r("ERkP");function u(e,t){var r=Object(a.useState)(e),u=Object(n.a)(r,2),i=u[0],c=u[1];return Object(a.useEffect)((function(){var r=setTimeout((function(){c(e)}),t);return function(){clearTimeout(r)}}),[e,t]),i}},"5Dih":function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var n=r("fGyu"),a=r("zygG"),u=r("jNxo"),i=r("BZRE"),c=r("1ANW"),o=r("ERkP"),s=r.n(o),l=r("9fIP"),f=r("MMYH"),d=function(){function e(){Object(l.a)(this,e),this.currentHashValue=5381}return Object(f.a)(e,[{key:"addNumber",value:function(e){this.currentHashValue=(this.currentHashValue<<5)+this.currentHashValue^e}},{key:"addString",value:function(e){for(var t=0;t<e.length;t++)this.addNumber(e.charCodeAt(t))}},{key:"addUndefined",value:function(e){this.addNumber(0)}},{key:"addNull",value:function(e){this.addString("".concat(e))}},{key:"addBoolean",value:function(e){this.addString("".concat(e))}},{key:"addObject",value:function(e){if(void 0!==e)if(null!==e)if("boolean"!==typeof e)if("number"!==typeof e)if("string"!==typeof e){if(Object.keys(e).length>0)for(var t=0,r=Object.entries(e);t<r.length;t++){var n=Object(a.a)(r[t],2),u=n[0],i=n[1];this.addString(u),this.addObject(i)}}else this.addString(e);else this.addNumber(e);else this.addBoolean(e);else this.addNull(e);else this.addUndefined(e)}}],[{key:"getValue",value:function(t){var r=new e;return r.addObject(t),r.currentHashValue}}]),e}(),h=r("Azxy"),m=r("LYCK"),v=[{key:"value",fields:[{key:"*",fields:[{key:"annotations",fields:[{key:"metrics",fields:[{key:"*",fields:["lastValue"]}]}]}]}]}],p=function(e,t){var r,u=new Set;return null===e||void 0===e||null===(r=e.entities)||void 0===r||r.forEach((function(e){var r;Object.entries(null===(r=e.annotations)||void 0===r?void 0:r.metrics).forEach((function(e){var r=Object(a.a)(e,2),n=r[0],i=r[1];t&&!Number.isFinite(i.lastValue)||u.add(n)}))})),Object(n.a)(u)},b=function(e,t){return d.getValue({filters:e,pageSize:t})};function g(e,t){var r=s.a.useState(0),n=Object(a.a)(r,2),o=n[0],l=n[1],f=Object(h.a)(),d=Object(a.a)(f,2),g=d[0],x=d[1],y=s.a.useMemo((function(){return g(b(e,t.pageSize))}),[g,e,t.pageSize,o]),k=s.a.useMemo((function(){return t.disabled||y?void 0:{filters:e||[],order:[{direction:"Desc",field:"properties/startTime"}],pageSize:t.pageSize||300}}),[e,t.pageSize,t.disabled,y,o]),M=Object(c.a)(k,{requestOptions:{selectFields:v,timeout:t.timeout},getErrorTitle:function(){return t.errorTitle}}),O=Object(a.a)(M,1)[0];return[s.a.useMemo((function(){if(y)return{state:u.a.Success,value:p(y,t.excludeNonNumeric)};switch(O.state){case u.a.Success:return k&&O.result&&x(b(e,t.pageSize),O.result),{state:u.a.Success,value:p(O.result,t.excludeNonNumeric)};case u.a.Error:var r=t.errorTitle||m.b.ErrorMessages.FetchMetricNames.Title;if(!O.error)throw new Error("error missing in fetch entities error result");var n=i.a.createServiceErrorMessage(O.error,r);return{state:u.a.Error,value:{message:n}};case u.a.Canceled:case u.a.Loading:return{state:O.state};default:throw new Error("Unknown FetchState ".concat(O.state))}}),[k,O,e,t.pageSize,t.excludeNonNumeric,y,o]),s.a.useCallback((function(){l((function(e){return e+1}))}),[l])]}},"8K13":function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r("2h71"),a=r("9fIP"),u=r("MMYH"),i=r("LYCK"),c=function(){function e(){Object(a.a)(this,e)}return Object(u.a)(e,null,[{key:"isMultiExperiment",value:function(e){if(!e||e.length<=1)return!1;var t,r=Object(n.a)(e);try{for(r.s();!(t=r.n()).done;){if(t.value.experimentName!==e[0].experimentName)return!0}}catch(a){r.e(a)}finally{r.f()}return!1}},{key:"getSeriesLabel",value:function(e,t,r){return r&&t?i.b.Charts.MetricChart.SeriesLabel.MultiMetricMultiExperiment.replace("{runNumber}","".concat(e.runNumber)).replace("{experimentName}","".concat(e.experimentName)).replace("{metricName}",r):r?i.b.Charts.MetricChart.SeriesLabel.MultiMetric.replace("{runNumber}","".concat(e.runNumber)).replace("{metricName}",r):t?i.b.Charts.MetricChart.SeriesLabel.MultiExperiment.replace("{runNumber}","".concat(e.runNumber)).replace("{experimentName}","".concat(e.experimentName)):"".concat(e.runNumber,"\u200b")}},{key:"showXAxisTickLabels",value:function(e){return!e||"fullScreenOnly"}}]),e}()},Azxy:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("WwJx"),a=r("ERkP"),u=r.n(a),i=r("7GqX"),c=function(e,t){return"MetricNames-".concat(e,"-").concat(t)};function o(){var e=u.a.useContext(n.a);return[u.a.useCallback((function(t){return i.a.get(c(e.workspaceId,t))}),[e.workspaceId]),u.a.useCallback((function(t,r){var n={expires:new Date(Date.now()+3e5)};i.a.set(c(e.workspaceId,t),r,n)}),[e.workspaceId])]}},Beys:function(e,t,r){"use strict";var n;r.d(t,"a",(function(){return n})),function(e){e.AutoRefreshToggle="AutoRefreshToggle",e.ArchiveToggle="ArchiveToggle",e.ChildRunsToggle="ChildRunsToggle",e.OnlyMyRuns="OnlyMyRuns",e.ShowOnlySelectedRuns="ShowOnlySelectedRuns",e.WordWrap="WordWrap"}(n||(n={}))},Rt4B:function(e,t,r){"use strict";var n;r.d(t,"a",(function(){return n})),function(e){e.RunMetricsPicker="RunMetricsPicker",e.TableEditor="TableEditor"}(n||(n={}))},SaFJ:function(e,t,r){"use strict";r.d(t,"a",(function(){return x}));var n=r("fGyu"),a=r("2h71"),u=r("VtSi"),i=r.n(u),c=r("QsI/"),o=r("zygG"),s=r("jNxo"),l=r("67aH"),f=r("ERkP"),d=r.n(f),h=r("0MHK"),m=r("l+oM"),v=r("iGgt"),p=r("X66E"),b=r("zRFe"),g=v.a.createQueue(4);function x(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=Object(b.a)(),f=d.a.useState({state:s.a.Loading}),x=Object(o.a)(f,2),y=x[0],k=x[1],M=Object(p.a)(),O=Object(o.a)(M,1),j=O[0],C=d.a.useState(0),w=Object(o.a)(C,2),S=w[0],E=w[1],N=Object(h.a)(),L=Object(o.a)(N,2),T=L[0],P=L[1];d.a.useEffect((function(){Object(c.a)(i.a.mark((function f(){var d,h,p,b,x,y,M,O,C,w,S,E,N,L,A,I,R;return i.a.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:if(!r&&e&&0!==t.length){f.next=2;break}return f.abrupt("return");case 2:return k({state:s.a.Loading}),d=T(e,t),h=Object(o.a)(d,2),p=h[0],b=h[1],x=t.flatMap((function(t){return e.filter((function(e){return!p.has(e)})).map((function(e){return Object(c.a)(i.a.mark((function r(){return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=e,r.t1=t,r.next=4,u.getSampledMetric(e,t);case 4:return r.t2=r.sent,r.abrupt("return",{runId:r.t0,metricName:r.t1,metric:r.t2});case 6:case"end":return r.stop()}}),r)})))}))})),f.next=7,g.add((function(){return v.a.runThrottled(x,25,j)}));case 7:if(y=f.sent,M=y.filter((function(e){var t=e.metric.status===l.a.Error&&e.metric.errorResponse&&[204,404].includes(e.metric.errorResponse.status);return t&&P(e.runId,e.metricName,void 0),!t})),O=M.find((function(e){return e.metric.status===l.a.Error})),!M.some((function(e){return e.metric.status===l.a.Aborted}))){f.next=14;break}k({state:s.a.Canceled}),f.next=47;break;case 14:if(!O){f.next=20;break}w=null===(C=O.metric.errorResponse)||void 0===C?void 0:C.status,S=Object(m.a)({response:O.metric.errorResponse,message:O.metric.errorMessage}),k({state:s.a.Error,value:{errorCode:w,message:S}}),f.next=47;break;case 20:if(!M.every((function(e){return e.metric.status===l.a.Ok}))){f.next=46;break}E=new Map(b),N=Object(a.a)(M),f.prev=23,N.s();case 25:if((L=N.n()).done){f.next=35;break}if((A=L.value).metric.data){f.next=29;break}throw new Error("Response data undefined but Response status is Ok");case 29:I=E.has(A.runId)?E.get(A.runId):new Map,R=new Map([[A.metricName,A.metric.data]]),E.set(A.runId,new Map([].concat(Object(n.a)(I),Object(n.a)(R)))),P(A.runId,A.metricName,A.metric.data);case 33:f.next=25;break;case 35:f.next=40;break;case 37:f.prev=37,f.t0=f.catch(23),N.e(f.t0);case 40:return f.prev=40,N.f(),f.finish(40);case 43:k({state:s.a.Success,value:E}),f.next=47;break;case 46:throw new Error("Unknown ResponseStatus");case 47:case"end":return f.stop()}}),f,null,[[23,37,40,43]])})))()}),[e,t,r,S]);var A=function(){k({state:s.a.Loading}),E((function(e){return e+1}))};return[y,A]}},X66E:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r("ERkP"),a=r.n(n);function u(){var e=a.a.useRef(new AbortController),t=a.a.useCallback((function(){e.current.abort()}),[e]);return a.a.useEffect((function(){return t}),[t]),[e.current.signal,t]}},"acL+":function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r("9fIP"),a=r("MMYH"),u=function(){function e(){Object(n.a)(this,e)}return Object(a.a)(e,null,[{key:"batch",value:function(e,t){for(var r=[],n=Math.ceil(e.length/t),a=0;a<n;a++)r.push(e.slice(a*t,(a+1)*t));return r}},{key:"sample",value:function(e,t){if(e.length<=t)return e;for(var r=e.slice(0,t),n=t;n<e.length;n++){var a=Math.floor(Math.random()*n);a<t&&(r[a]=e[n])}return r}}]),e}()},cwTa:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r("Czhu"),a=r("9fIP"),u=r("MMYH"),i=r("8K1b"),c=r("AqVP"),o=r("8Zff"),s=r("1eWE"),l=r("KodL"),f=r("nsO7"),d=r("xP+/"),h=r("ERkP"),m=r("WYY7"),v=function(e){Object(i.a)(r,e);var t=Object(c.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).searchStyles={root:{borderColor:n.props.themeContext.themeStyles.palette.neutralQuaternary}},n.debouncedLogOnChangedTelemetry=void 0,n.logOnChangeTelemetry=function(){o.a.trackEvent(s.a.Components_SearchQuery_Changed,void 0,{SearchBarName:n.props.telemetryKey})},n.onSearchBoxChange=function(e){n.props.onChange&&(n.props.onChange(e),n.debouncedLogOnChangedTelemetry())},n.onSearchBoxClear=function(e){n.props.onClear&&(n.props.onClear(e),o.a.trackEvent(s.a.Components_SearchQuery_Cleared,void 0,{SearchBarName:n.props.telemetryKey}))},n.debouncedLogOnChangedTelemetry=Object(f.debounce)(n.logOnChangeTelemetry,500,{leading:!0}),n}return Object(u.a)(r,[{key:"render",value:function(){var e=this.props.placeholder||"Filter by Name",t=this.props.className||"user-input-box",r={iconName:this.props.iconType||m.a.Filter},a=Object(n.a)(Object(n.a)({},this.searchStyles),this.props.styles);return h.createElement(d.a,{onChange:this.onSearchBoxChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,placeholder:e,ariaLabel:e,onClear:this.onSearchBoxClear,iconProps:r,autoComplete:"off",className:t,styles:a,disabled:this.props.disabled})}}]),r}(h.Component),p=Object(l.a)(v)},iGgt:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("VtSi"),a=r.n(n),u=r("fGyu"),i=r("QsI/"),c=r("9fIP"),o=r("MMYH"),s=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,null,[{key:"runThrottled",value:function(){var e=Object(i.a)(a.a.mark((function e(t,r,n){var c,o,s,l,f,d,h;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=Object(u.a)(t),o=0,s=new Map,l=[],f=0;case 5:if(!(f<c.length)||n.aborted){e.next=20;break}if(!(s.size<r&&o<c.length)){e.next=12;break}d=function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,c[o]();case 3:return e.t1=e.sent,e.abrupt("return",{index:e.t0,result:e.t1});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s.set(o,d()),o++,e.next=18;break;case 12:return e.next=14,Promise.race(s.values());case 14:h=e.sent,l[h.index]=h.result,f++,s.delete(h.index);case 18:e.next=5;break;case 20:return e.abrupt("return",l);case 21:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"createQueue",value:function(e){return new l(e)}}]),e}(),l=function(){function e(t){Object(c.a)(this,e),this.executingPromises=new Map,this.queue=[],this.throttleLimit=void 0,this.currentIndex=0,this.isProcessing=!1,this.throttleLimit=t}return Object(o.a)(e,[{key:"add",value:function(){var e=Object(i.a)(a.a.mark((function e(t){var r,n=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Promise((function(e,r){n.queue.push({index:n.currentIndex++,promise:t,resolve:e,reject:r}),n.processQueue()})),e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"processQueue",value:function(){var e=Object(i.a)(a.a.mark((function e(){var t,r=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isProcessing){e.next=2;break}return e.abrupt("return");case 2:this.isProcessing=!0;case 3:if(!(this.queue.length>0||this.executingPromises.size>0)){e.next=15;break}if(!(this.executingPromises.size<this.throttleLimit&&this.queue.length>0)){e.next=8;break}!function(){var e=r.queue[0];r.queue.shift();var t=function(){var t=Object(i.a)(a.a.mark((function t(){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.promise();case 3:t.t0=t.sent,r={fulfilled:!0,fulfilledValue:t.t0},t.next=10;break;case 7:t.prev=7,t.t1=t.catch(0),r={fulfilled:!1,rejectedReason:t.t1};case 10:return t.abrupt("return",{index:e.index,result:r,resolve:e.resolve,reject:e.reject});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();r.executingPromises.set(e.index,t())}(),e.next=13;break;case 8:return e.next=10,Promise.race(this.executingPromises.values());case 10:(t=e.sent).result.fulfilled?t.resolve(t.result.fulfilledValue):t.reject(t.result.rejectedReason),this.executingPromises.delete(t.index);case 13:e.next=3;break;case 15:this.isProcessing=!1;case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}()},pch0:function(e,t,r){"use strict";r.d(t,"a",(function(){return N}));var n=r("Czhu"),a=r("2h71"),u=r("fGyu"),i=r("zygG"),c=r("IX2Y"),o=r("cB7U"),s=r("jNxo"),l=r("nsO7"),f=r.n(l),d=r("ERkP"),h=r.n(d),m=r("acL+"),v=r("SaFJ"),p=r("btdd"),b=r("VH9c"),g=r("LYCK"),x=r("rCGj"),y=r("wkpC"),k=r("TXmw"),M=r("jLnm"),O=r("qaSn"),j=r("JrM5"),C=r("sr3Z"),w=r("8K13"),S=r("9fIP"),E=function e(){Object(S.a)(this,e)};E.metricKeys=[],E.getMetricKey=function(e,t){var r=E.metricKeys.find((function(r){return r.metricName===e&&r.columnName===t}));if(r)return r;var n={metricName:e,columnName:t};return E.metricKeys.push(n),n};var N=function(e){var t=Object(o.a)(y.a.Experimentation.Chart.Loaded,{blocksParentScenario:!1}),r=Object(i.a)(t,1)[0],c=h.a.useState(e.runs),l=Object(i.a)(c,2),f=l[0],d=l[1],m=h.a.useState(void 0),x=Object(i.a)(m,2),S=x[0],N=x[1],I=e.runs!==f;h.a.useEffect((function(){var t=window.setTimeout((function(){d(e.runs)}),50);return function(){window.clearTimeout(t)}}),[d,e.runs]);var R=!(!e.xAxis||e.xAxis.axisName!==M.c.Time),B=!(!e.xAxis||e.xAxis.axisName!==M.c.Metric),z=h.a.useMemo((function(){var t;return B?null===(t=e.xAxis)||void 0===t?void 0:t.metricName:""}),[B,e.xAxis]),V=h.a.useMemo((function(){return f.map((function(e){return e.runId})).filter((function(e){return!!e}))}),[f]),U=h.a.useMemo((function(){return e.metricNames.slice(0,3)}),[e.metricNames]),F=h.a.useMemo((function(){var e=Object(u.a)(U);return z&&!e.includes(z)&&e.push(z),e}),[z,U]),K=Object(v.a)(V,F,e.isLoading),X=Object(i.a)(K,1)[0];Object(p.a)(X);var D=h.a.useMemo((function(){return X.state===s.a.Loading}),[X]),G=h.a.useMemo((function(){return X.state!==s.a.Success?X:{state:s.a.Success,value:P(X.value)}}),[X]);h.a.useEffect((function(){var e;return I||G.state!==s.a.Success||S===G.value||(e=window.setTimeout((function(){N(G.value)}),0)),function(){window.clearTimeout(e)}}),[I,G]);var H=h.a.useMemo((function(){return w.a.isMultiExperiment(e.runs)}),[f]),Y=h.a.useMemo((function(){return!!S&&Array.from(S.values()).some((function(e){return Array.from(e.values()).some((function(e){return!!e.value&&e.value.length<(e.numValuesLogged||e.value.length)}))}))}),[S]),q=h.a.useMemo((function(){if(S){var e,t=Object(a.a)(S.values());try{for(t.s();!(e=t.n()).done;){var r=e.value;if(Array.from(r.values()).length>1)return!0;if(Array.from(r.values()).some((function(e){return e&&e.value&&e.value.length>1})))return!0}}catch(n){t.e(n)}finally{t.f()}}return!1}),[S]),W=(e.chartType===j.a.MultiLine||e.chartType===j.a.MultiScatter)&&q,Q=h.a.useMemo((function(){var e=function(e,t,r){return t&&t!==r?Math.ceil(e*t/r):e},t=[];return S&&S.forEach((function(r,n){var u=new Map;r.forEach((function(t){var r=t.numValuesLogged;if(t.value){var n=t.name||"",i=t.value.length;t.value.forEach((function(t,c){if(t&&t.createdUtc&&t.data){var o,s=Object.keys(t.data),l=U.length>1?[s[0]]:s,f=Object(a.a)(l);try{for(f.s();!(o=f.n()).done;){var d=o.value,h=E.getMetricKey(n,d===n?void 0:d),m=Number.isFinite(t.data[d])?t.data[d]:void 0,v=u.get(h);if(W&&v){var p=e(c,r,i),b=(+new Date(t.createdUtc)-+v[0].createdUtc)/1e3;v.push({iteration:p,timeSinceMetricStart:b,createdUtc:t.createdUtc,value:m})}else u.set(h,[{iteration:0,timeSinceMetricStart:0,createdUtc:t.createdUtc,value:m}])}}catch(g){f.e(g)}finally{f.f()}}}))}})),t.push({runId:n,runMetrics:u})})),t}),[S,W,U]),J=h.a.useMemo((function(){return A(f,Q,R,H,z,U)}),[f,Q,R,H,z,U]),Z=Object(i.a)(J,3),_=Z[0],$=Z[1],ee=Z[2],te=h.a.useMemo((function(){return function(e){switch(e){case j.a.Line:case j.a.MultiLine:return O.c.Lines;case j.a.Scatter:case j.a.MultiScatter:return O.c.Markers;default:return O.c.None}}(e.chartType)}),[e.chartType]),re=e.smoothing&&e.smoothing.weight,ne=h.a.useMemo((function(){return w.a.showXAxisTickLabels(!!H)}),[H]),ae=h.a.useMemo((function(){return function(e,t,r,a,u,i,c,o,s,l,f,d,h,m,v,p,b,x,y){var k={chartType:"metric",metricType:"metricsV2",isMultiValue:t},M="seriesLabel",j={isLoading:s,title:r,groupBy:M,y:"y",chartMode:a,chartType:O.d.Scatter,titleSize:v,chartId:l,automationId:f,allowFullScreenMode:h,smoothingWeight:m,telemetryProperties:k,onEditButtonClick:p,onDeleteButtonClick:b,iconMenuProps:x,yAxisLabel:i||"",xAxis:y};if(t||u){var C=Object(n.a)(Object(n.a)({},j),{},{data:e.values,isGrouped:!0,tooltipContent:T(c,o),xAxisLabel:L(o,u,y),showXAxisTickLabels:!0});return(o||u)&&(C.hoverMode=O.e.Closest),e.hasX&&(C.x="x"),C}return Object(n.a)(Object(n.a)({},j),{},{data:e.values,isGrouped:!0,x:M,xAxisType:O.b.Category,xAxisLabel:g.b.Charts.MetricChart.RunNumberXAxisLabel,showXAxisTickLabels:d})}(ee,W,e.title,te,_,$,Y,R,D,e.chartId,e.automationId,ne,e.allowFullScreenMode,re,e.titleSize,e.onEditButtonClick,e.onDeleteButtonClick,e.iconMenuProps,e.xAxis)}),[ee,W,e.title,U,te,_,$,Y,R,D,e.chartId,e.automationId,e.allowFullScreenMode,ne,re,e.titleSize,e.onEditButtonClick,e.onDeleteButtonClick,e.iconMenuProps,e.xAxis]),ue=!S&&G.state===s.a.Success,ie=h.a.useMemo((function(){return e.runs.length>0&&!!F&&F.length>0}),[e.runs,F]),ce=h.a.useMemo((function(){if(!e.isLoading&&!ue)return ie?[G.state]:[]}),[e.isLoading,ue,ie,G]),oe=h.a.useMemo((function(){if(e.isLoading||!S)return h.a.createElement(k.a,{disableOverlay:!0});var t=function(e,t){if(0!==e.size&&t.length>0&&(t.every((function(e){return e.x&&e.x.length>0&&e.x.every((function(e){return void 0===e}))}))||t.every((function(e){return!e.y||e.y.length>0&&e.y.every((function(e){return void 0===e}))}))))return g.b.Charts.UnsupportedMetricType;if(t.length&&!t.every((function(e){var t,r;return!e.x||!e.y||(null===(t=e.x)||void 0===t?void 0:t.length)===(null===(r=e.y)||void 0===r?void 0:r.length)})))return g.b.Charts.IncompatibleAxes;return}(S,ae.data);return t?h.a.createElement(C.a,{iconMenuProps:ae.iconMenuProps,message:t,title:ae.title,onEditButtonClick:ae.onEditButtonClick,onDeleteButtonClick:ae.onDeleteButtonClick}):h.a.createElement(O.a,ae)}),[e.isLoading,S,ae]);return Object(b.a)(r,ce,{chartType:"metric",chartMode:"sampled",runCount:f.length}),oe};function L(e,t,r){var n=e?g.b.Charts.MetricChart.TimeXAxisLabel:g.b.Charts.MetricChart.IterationXAxisLabel;return t||(r?n:"")}function T(e,t){return e||t?h.a.createElement(h.a.Fragment,null,e&&h.a.createElement(c.a,{variant:"small"},g.b.Charts.MetricChart.SampledChartTooltip.SamplingDescription),t&&h.a.createElement(c.a,{variant:"small"},g.b.Charts.MetricChart.SampledChartTooltip.AxisDescription)):void 0}function P(e){var t=0,r=0,a=new Map;return e.forEach((function(e){e.forEach((function(e){e.numValuesLogged&&e.value&&e.numValuesLogged>t&&(t=e.numValuesLogged,r=e.value.length)}))})),e.forEach((function(e,u){var i=new Map;e.forEach((function(e,a){if(e.numValuesLogged&&e.value){var u=Math.ceil(e.numValuesLogged/t*r),c=x.a.sort(m.a.sample(e.value,u));i.set(a,Object(n.a)(Object(n.a)({},e),{},{value:c}))}else i.set(a,e)})),a.set(u,i)})),a}var A=function(e,t,r,a,u,c){var o,s,l=[];if((null===t||void 0===t?void 0:t.length)>0){var d=t[0],h=d&&Array.from(d.runMetrics.keys())||[],m=f.a.keyBy(t,"runId"),v=function(e,t,r){var n,a;return 1===t.length&&(r.length>1&&!e?(a=r[1],n=r[0]):a=r[0]),e&&(n=r.find((function(t){return(null===t||void 0===t?void 0:t.metricName)===e}))),[n,a]}(u,c,h),p=Object(i.a)(v,2);o=p[0],s=p[1];var b=0;return c.sort().forEach((function(t){b>3||(s?[s]:h.filter((function(e){return e.metricName===t}))).sort().forEach((function(t){b++,e.forEach((function(e){var u,s=e.runId||"",f=m[s]&&m[s].runMetrics||new Map,d=f.get(t),h=o?null===(u=f.get(o))||void 0===u?void 0:u.map((function(e){return e.value})):null===d||void 0===d?void 0:d.map((function(e){return r?e.timeSinceMetricStart:e.iteration})),v=null===d||void 0===d?void 0:d.map((function(e){return e.value})),p=function(e,t){var r=[],n=[];return e&&t&&e.length===t.length?(e.map((function(e,r){return{x:e,y:t[r]}})).sort((function(e,t){return e.x<t.x?-1:e.x===t.x?0:1})).forEach((function(e){r.push(e.x),n.push(e.y)})),[r,n]):[e,t]}(h,v),b=Object(i.a)(p,2);h=b[0],v=b[1],h&&l.push(Object(n.a)(Object(n.a)({},e),{},{metricName:I(t),x:h,y:v,seriesLabel:w.a.getSeriesLabel(e,a,c.length>1?I(t):void 0)}))}))}))})),[I(o),I(s),{values:l,hasX:l.some((function(e){return void 0!==e.x}))}]}return[void 0,void 0,{values:[],hasX:!1}]},I=function(e){if(e)return e.columnName?g.b.Charts.MetricChart.MetricName.replace("{metricName}",e.metricName||"").replace("{columnName}",e.columnName):"".concat(e.metricName)}},rCGj:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r("9fIP"),a=r("MMYH"),u=function(){function e(){Object(n.a)(this,e)}return Object(a.a)(e,null,[{key:"sort",value:function(e){return e.sort((function(e,t){return e.createdUtc?t.createdUtc?e.createdUtc===t.createdUtc?0:e.createdUtc<t.createdUtc?-1:1:1:-1}))}}]),e}()},sr3Z:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("IX2Y"),a=r("d0cs"),u=r("LWCo"),i=r("ERkP"),c=r.n(i),o=r("1pFK"),s=function(e){var t=e.title||"",r=Object(a.db)({width:"50%"});return c.a.createElement(o.a,{title:t,iconMenuProps:e.iconMenuProps,onEditButtonClick:e.onEditButtonClick,onDeleteButtonClick:e.onDeleteButtonClick},c.a.createElement(u.a,{horizontal:!1,horizontalAlign:"center",verticalAlign:"center",wrap:!0},c.a.createElement(n.a,{variant:"medium",className:r},e.message),e.children))}}}]);
//# sourceMappingURL=56.db31aee6.chunk.js.map